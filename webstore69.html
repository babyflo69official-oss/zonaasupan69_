<!DOCTYPE html>
<html lang="id" dir="ltr">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/>
<meta name="theme-color" content="#9069e9"/>
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
<meta name="apple-mobile-web-app-title" content="Zona Asupan 69"/>

<!-- ══ PRIMARY SEO META ══ -->
<title>Media69 Digital Store — Toko Produk Digital Terpercaya | Live Streaming, Video, E-Book</title>
<meta name="description" content="Media69 Digital Store adalah toko produk digital terpercaya di Indonesia. Jual konten live streaming, Blue-X 69 VIP, video streaming, e-book premium, dan template kreatif. Kirim instan ke No HP dalam menit!"/>
<meta name="keywords" content="toko digital, live streaming, Blue-X 69 VIP, video streaming, e-book, template, media69 digital store, Asupan69, Zona Asupan 69, produk digital indonesia"/>
<meta name="author" content="Media69 Digital Store"/>
<link rel="canonical" href="https://media69digitalstore.my.id/"/>
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"/>
<meta name="rating" content="general"/>
<meta name="revisit-after" content="3 days"/>
<meta name="language" content="Indonesian"/>
<meta name="geo.region" content="ID"/>
<meta name="geo.placename" content="Indonesia"/>

<!-- ══ OPEN GRAPH ══ -->
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://media69digitalstore.my.id/"/>
<meta property="og:title" content="Media69 Digital Store — Toko Produk Digital Terpercaya"/>
<meta property="og:description" content="Live streaming, video streaming VIP, e-book & template dengan harga terjangkau. Kirim instan ke No HP dalam hitungan menit!"/>
<meta property="og:image" content="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="630"/>
<meta property="og:image:alt" content="Media69 Digital Store — Toko Produk Digital Terpercaya"/>
<meta property="og:locale" content="id_ID"/>
<meta property="og:site_name" content="Media69 Digital Store"/>

<!-- ══ TWITTER / X CARD ══ -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:site" content="@media69store"/>
<meta name="twitter:creator" content="@media69store"/>
<meta name="twitter:title" content="Media69 Digital Store — Toko Produk Digital Terpercaya"/>
<meta name="twitter:description" content="Live streaming, video streaming VIP, e-book & template dengan harga terjangkau. Kirim instan ke No HP!"/>
<meta name="twitter:image" content="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>

<!-- ══ JSON-LD STRUCTURED DATA ══ -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Store",
      "@id": "https://media69digitalstore.my.id/#store",
      "name": "Media69 Digital Store",
      "alternateName": "Zona Asupan 69",
      "description": "Toko produk digital terpercaya di Indonesia — live streaming, video streaming, e-book & template.",
      "url": "https://media69digitalstore.my.id",
      "logo": {
        "@type": "ImageObject",
        "url": "https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png",
        "width": 512,
        "height": 512
      },
      "image": "https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png",
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "customer support",
        "availableLanguage": "Indonesian"
      },
      "sameAs": ["https://wa.me/6281234567890"],
      "areaServed": "ID",
      "currenciesAccepted": "IDR",
      "paymentAccepted": "QRIS, Transfer Bank BCA, Mandiri, BNI, BRI, SeaBank",
      "priceRange": "Rp 45.000 - Rp 1.299.000",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.9",
        "reviewCount": "25000",
        "bestRating": "5",
        "worstRating": "1"
      }
    },
    {
      "@type": "WebSite",
      "@id": "https://media69digitalstore.my.id/#website",
      "url": "https://media69digitalstore.my.id",
      "name": "Media69 Digital Store",
      "inLanguage": "id",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "https://media69digitalstore.my.id/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    },
    {
      "@type": "Organization",
      "@id": "https://media69digitalstore.my.id/#org",
      "name": "Media69 Digital Store",
      "url": "https://media69digitalstore.my.id",
      "logo": "https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"
    }
  ]
}
</script>

<!-- ══ PRECONNECT / FONTS ══ -->
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link rel="preconnect" href="https://ik.imagekit.io"/>
<link rel="preconnect" href="https://i.postimg.cc"/>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Oswald:wght@400;500;600;700&display=swap" onload="this.onload=null;this.rel='stylesheet'"/>
<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Oswald:wght@400;500;600;700&display=swap"/></noscript>

<!-- ══ FAVICON ══ -->
<link rel="icon" type="image/png" sizes="32x32" href="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>
<link rel="icon" type="image/png" sizes="16x16" href="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>
<link rel="apple-touch-icon" href="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>
<link rel="shortcut icon" href="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png"/>

<!-- ══ PWA ══ -->
<link rel="manifest" href="manifest.json"/>

<!-- ══ STYLESHEET ══ -->
<link rel="stylesheet" href="style.css"/>
<style>
/* ═══════════════════════════════════════════════════════════════
   Media69 Digital Store — style.css
   Theme  : Dark Neon × Deep Purple × Electric Cyan
   Build  : v8.0 — Production Ready
   Author : Media69 Digital Store
═══════════════════════════════════════════════════════════════ */

/* ── CSS RESET & TOKENS ── */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}

:root{
  /* Brand Colors */
  --bg:#06060f;
  --bg2:#080812;
  --surface:#0e0e1c;
  --surface2:#12121f;
  --surface3:#1a1a2e;

  /* Primary Palette */
  --primary:#9069e9;
  --primary-dark:#7a3fd6;
  --primary-light:#b08fff;
  --cyan:#00f9ff;
  --cyan2:#00e5f0;
  --pink:#ff2d78;
  --gold:#f5c518;
  --red:#ff4444;
  --green:#00d4aa;

  /* Text */
  --text:#f4f4fa;
  --text2:#c8c8d8;
  --text3:#7878a0;

  /* Accents */
  --rg:linear-gradient(135deg,#9933cc,#9369db,#da69d3,#00f9ff,#9069e9,magenta);
  --rg2:linear-gradient(90deg,#9069e9,#00f9ff);
  --rg3:linear-gradient(135deg,#9069e9,#da69d3,#00f9ff);
  --border:rgba(144,105,233,.28);
  --border-cyan:rgba(0,249,255,.3);

  /* Radii */
  --r-xs:6px;--r-sm:10px;--r:14px;--r-lg:18px;--r-xl:24px;

  /* Shadows */
  --shadow:0 8px 32px rgba(0,0,0,.5);
  --shadow-p:0 4px 24px rgba(144,105,233,.4);
  --glow-p:0 0 20px rgba(144,105,233,.35);
  --glow-c:0 0 20px rgba(0,249,255,.25);

  /* Transitions */
  --t:.22s ease;
  --t-fast:.15s ease;
}

/* ── BASE ── */
html{scroll-behavior:smooth;height:100%;-webkit-text-size-adjust:100%}
body{
  font-family:'Inter','Oswald',sans-serif;
  background:var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  min-height:100%;
  overflow-x:hidden;
  line-height:1.6;
}
a{text-decoration:none;color:inherit}
button{font-family:'Inter','Oswald',sans-serif;cursor:pointer;border:none;outline:none;background:none}
button:focus-visible{outline:2px solid var(--cyan);outline-offset:3px;border-radius:4px}
input,select,textarea{font-family:'Inter','Oswald',sans-serif;outline:none}
img{display:block;max-width:100%}
h1,h2,h3{font-family:'Oswald',sans-serif}

/* Scrollbar */
::-webkit-scrollbar{width:3px;height:3px}
::-webkit-scrollbar-track{background:var(--bg)}
::-webkit-scrollbar-thumb{background:rgba(144,105,233,.45);border-radius:99px}
::-webkit-scrollbar-thumb:hover{background:var(--primary)}

/* ── ANIMATIONS ── */
@keyframes pgIn{from{opacity:0;transform:translateX(18px)}to{opacity:1;transform:translateX(0)}}
@keyframes pgBack{from{opacity:0;transform:translateX(-18px)}to{opacity:1;transform:translateX(0)}}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
@keyframes popIn{from{transform:scale(.55);opacity:0}to{transform:scale(1);opacity:1}}
@keyframes livePulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.45;transform:scale(1.6)}}
@keyframes flash{0%,100%{opacity:1}50%{opacity:.25}}
@keyframes ddIn{from{opacity:0;transform:translateY(-10px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes notifPop{from{opacity:0;transform:translateY(16px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}
@keyframes notifExit{to{opacity:0;transform:translateX(-18px) scale(.96)}}
@keyframes shimmer{0%{background-position:-200% center}100%{background-position:200% center}}
@keyframes floatUp{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
@keyframes heartPop{0%{transform:scale(1)}50%{transform:scale(1.4)}100%{transform:scale(1)}}
@keyframes gradientShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
@keyframes slideInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}

/* ── PAGE SYSTEM ── */
.page{display:none;min-height:100svh;animation:pgIn .28s cubic-bezier(.4,0,.2,1)}
.page.active{display:block}
.page.back{animation:pgBack .28s cubic-bezier(.4,0,.2,1)}

/* ═══════════════════════════════════════════════
   HEADER
═══════════════════════════════════════════════ */
.header{
  position:sticky;top:0;z-index:200;
  background:linear-gradient(to bottom,rgba(6,6,15,.96),rgba(8,8,18,.93));
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
}
.header::after{
  content:'';position:absolute;bottom:0;left:0;width:100%;height:1px;
  background:linear-gradient(90deg,transparent,#9069e9 20%,#00f9ff 50%,#ec3899 80%,transparent);
}
.header-inner{max-width:640px;margin:0 auto;padding:0 14px}
.header-row{display:flex;align-items:center;justify-content:space-between;height:56px;gap:10px}

/* Logo */
.logo{display:flex;align-items:center;gap:10px;text-decoration:none;flex-shrink:0}
.logo-mark{
  width:39px;height:39px;border-radius:10px;
  background:linear-gradient(135deg,#9069e9,#ff006e);
  display:flex;align-items:center;justify-content:center;
  font-weight:800;font-size:15px;color:#fff;
  box-shadow:var(--glow-p);flex-shrink:0;font-family:'Oswald',sans-serif;
}
.logo-text{display:flex;flex-direction:column;line-height:1}
.logo-name{
  font-size:18px;font-weight:700;letter-spacing:.3px;
  background:linear-gradient(90deg,#70e1f5,#b08fff,#da69d3);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  filter:drop-shadow(0 0 6px rgba(0,0,0,.9));
  font-family:'Oswald',sans-serif;
}
.logo-sub{font-size:6px;font-weight:500;color:var(--text3);letter-spacing:.6px;text-transform:uppercase;margin-top:1px}

/* Header Actions */
.header-actions{display:flex;gap:7px}
.icon-btn{
  width:35px;height:35px;border-radius:10px;
  background:rgba(144,105,233,.1);
  border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all var(--t);color:var(--text2);position:relative;
}
.icon-btn:hover{background:rgba(144,105,233,.22);color:var(--text);border-color:var(--primary);box-shadow:var(--glow-p)}
.icon-btn svg{width:17px;height:17px}
.notif-dot{position:absolute;top:5px;right:5px;width:8px;height:8px;border-radius:50%;background:var(--pink);border:2px solid var(--bg)}
.wishlist-count{
  position:absolute;top:-5px;right:-5px;
  background:var(--pink);color:#fff;font-size:8px;font-weight:700;
  border-radius:99px;padding:1px 4px;border:2px solid var(--bg);min-width:16px;text-align:center;
}

/* Back Header */
.back-header{
  display:flex;align-items:center;gap:12px;height:56px;
  max-width:640px;margin:0 auto;padding:0 14px;
  position:sticky;top:0;z-index:200;
  background:linear-gradient(to bottom,rgba(6,6,15,.97),rgba(8,8,18,.98));
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
}
.back-header::after{
  content:'';position:absolute;bottom:0;left:0;width:100%;height:1px;
  background:linear-gradient(90deg,transparent,#9069e9 20%,#00f9ff 50%,#ec3899 80%,transparent);
}
.back-btn{
  width:35px;height:35px;border-radius:10px;
  background:rgba(144,105,233,.1);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;color:var(--text);flex-shrink:0;transition:all var(--t);
}
.back-btn:hover{background:rgba(144,105,233,.22);border-color:var(--primary);box-shadow:var(--glow-p)}
.back-btn svg{width:18px;height:18px}
.back-title{
  font-size:15px;font-weight:700;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
  background:linear-gradient(90deg,var(--text),var(--cyan));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  font-family:'Oswald',sans-serif;
}
.header-action-right{margin-left:auto;display:flex;gap:7px}

/* ═══════════════════════════════════════════════
   SEARCH + FILTER DROPDOWN
═══════════════════════════════════════════════ */
.search-wrap{padding:10px 0 8px}
.search-row{display:flex;gap:8px;align-items:center}
.search-container{position:relative;flex:1}
.search-icon{position:absolute;left:13px;top:50%;transform:translateY(-50%);width:16px;height:16px;color:var(--text3);pointer-events:none}
.search-clear{
  position:absolute;right:12px;top:50%;transform:translateY(-50%);
  width:20px;height:20px;border-radius:50%;background:rgba(120,120,160,.3);
  display:flex;align-items:center;justify-content:center;cursor:pointer;
  transition:all var(--t-fast);border:none;padding:0;
}
.search-clear:hover{background:rgba(255,68,68,.3);color:var(--red)}
.search-clear svg{width:12px;height:12px;color:var(--text3)}
.search-input{
  width:100%;padding:10px 36px 10px 38px;border-radius:26px;font-size:12.5px;
  color:var(--text);transition:all .25s;
  border:1px solid transparent;
  background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
}
.search-input::placeholder{color:var(--text3)}
.search-input:focus{box-shadow:0 0 18px rgba(0,249,255,.2);transform:translateY(-1px)}

.search-results{
  position:absolute;top:calc(100% + 6px);left:0;right:0;
  background:var(--surface2);border:1px solid var(--border);
  border-radius:var(--r);z-index:300;display:none;
  box-shadow:var(--shadow);max-height:300px;overflow-y:auto;
}
.search-results.show{display:block;animation:ddIn .2s ease}
.search-item{display:flex;align-items:center;gap:10px;padding:10px 14px;cursor:pointer;transition:background var(--t-fast)}
.search-item:hover{background:rgba(144,105,233,.13)}
.search-item img{width:38px;height:38px;border-radius:9px;object-fit:cover;border:1px solid var(--border)}
.si-name{font-size:12.5px;font-weight:700;color:var(--cyan)}
.si-cat{font-size:10px;color:var(--text3);margin-top:2px}

/* Filter Button */
.filter-btn{
  flex-shrink:0;width:40px;height:40px;border-radius:12px;
  background:rgba(144,105,233,.1);border:1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;transition:all var(--t);color:var(--text2);position:relative;
}
.filter-btn:hover,.filter-btn.active{background:rgba(144,105,233,.25);border-color:var(--cyan);color:var(--cyan)}
.filter-btn svg{width:17px;height:17px}
.filter-dot{position:absolute;top:6px;right:6px;width:7px;height:7px;border-radius:50%;background:var(--cyan);border:2px solid var(--bg);display:none}
.filter-btn.filtered .filter-dot{display:block}

/* Filter Dropdown */
.filter-dropdown{
  position:absolute;top:calc(100% + 8px);right:0;width:225px;
  background:linear-gradient(160deg,var(--surface2),var(--surface3));
  border:1px solid var(--border);border-radius:var(--r-lg);
  z-index:400;box-shadow:var(--shadow),0 0 0 1px rgba(0,249,255,.04);
  display:none;overflow:hidden;animation:ddIn .2s ease;
}
.filter-dropdown.show{display:block}
.filter-dd-header{padding:10px 14px 8px;font-size:10.5px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.9px;border-bottom:1px solid rgba(144,105,233,.12)}
.filter-dd-item{display:flex;align-items:center;gap:10px;padding:10px 14px;cursor:pointer;transition:background var(--t-fast);font-size:13px;font-weight:600;color:var(--text2);border-bottom:1px solid rgba(144,105,233,.06)}
.filter-dd-item:last-child{border-bottom:none}
.filter-dd-item:hover{background:rgba(144,105,233,.1);color:var(--text)}
.filter-dd-item.active{color:var(--cyan);background:rgba(0,249,255,.05)}
.filter-dd-item.active::after{content:'✓';margin-left:auto;font-size:12px;font-weight:800}
.filter-dd-icon{font-size:16px;width:22px;text-align:center;flex-shrink:0}
.filter-dd-wrap{position:relative}

/* ── CATEGORY PILLS ── */
.cat-pills-wrap{overflow:hidden;padding-bottom:10px;margin:0 -14px;padding-left:14px}
.cat-pills{
  display:flex;gap:7px;overflow-x:auto;padding-right:14px;
  scrollbar-width:none;-webkit-overflow-scrolling:touch;
}
.cat-pills::-webkit-scrollbar{display:none}
.cat-pill{
  flex-shrink:0;padding:5px 13px;border-radius:99px;
  font-size:11.5px;font-weight:600;cursor:pointer;
  border:1px solid var(--border);background:rgba(144,105,233,.08);
  color:var(--text3);transition:all var(--t);white-space:nowrap;
  font-family:'Oswald',sans-serif;letter-spacing:.3px;
}
.cat-pill:hover{border-color:var(--primary);color:var(--text)}
.cat-pill.active{
  background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  border-color:var(--primary);color:#fff;
  box-shadow:0 2px 12px rgba(144,105,233,.4);
}

/* Tab Content */
.tab-content{display:none}
.tab-content.active{display:block}

/* ═══════════════════════════════════════════════
   MAIN WRAPPER
═══════════════════════════════════════════════ */
.main{max-width:640px;margin:0 auto;padding:12px 14px 108px}

/* ═══════════════════════════════════════════════
   HERO SLIDER — Background Image Support
═══════════════════════════════════════════════ */
.hero-slider{
  position:relative;border-radius:calc(var(--r-lg) + 2px);
  overflow:hidden;margin-bottom:14px;aspect-ratio:16/7;
  padding:2px;background:var(--rg);
}
.slides-track{
  display:flex;height:100%;
  transition:transform .55s cubic-bezier(.77,0,.175,1);
  will-change:transform;border-radius:calc(var(--r-lg) - 1px);overflow:hidden;
}
.slide{
  min-width:100%;height:100%;position:relative;display:flex;align-items:flex-end;
  padding:18px 20px;overflow:hidden;
  background-size:cover;background-position:center center;background-repeat:no-repeat;
}
.slide-bg-overlay{
  position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(10,5,25,.82) 0%,rgba(5,2,15,.5) 60%,rgba(20,10,40,.3) 100%);
  pointer-events:none;z-index:0;
}
/* Fallback gradients if no bgImg */
.s1{background-image:linear-gradient(135deg,#150e35,#2d1b6b,#1a0e3f)}
.s2{background-image:linear-gradient(135deg,#061828,#0a3060,#0e1f3f)}
.s3{background-image:linear-gradient(135deg,#1f0810,#5c1029,#2d0e1a)}

/* Slide image deco */
.slide-deco{
  position:absolute;right:14px;top:50%;transform:translateY(-50%);
  width:82px;height:82px;border-radius:16px;
  overflow:hidden;opacity:.6;user-select:none;pointer-events:none;
  box-shadow:0 4px 20px rgba(0,0,0,.5),0 0 0 2px rgba(255,255,255,.15);
  z-index:1;
}
.slide-deco img{width:100%;height:100%;object-fit:cover}
.slide-deco-emoji{
  position:absolute;right:18px;top:50%;transform:translateY(-50%);
  font-size:72px;opacity:.1;user-select:none;pointer-events:none;z-index:1;
}
.slide-glow{position:absolute;top:-30%;right:-10%;width:60%;height:130%;background:radial-gradient(ellipse,rgba(144,105,233,.32) 0%,transparent 65%);z-index:0}
.slide-content{position:relative;z-index:2}
.slide-badge{
  display:inline-flex;align-items:center;gap:5px;
  background:rgba(0,0,0,.55);backdrop-filter:blur(8px);
  border:1px solid rgba(144,105,233,.45);border-radius:99px;
  padding:3px 10px;font-size:10px;font-weight:600;margin-bottom:7px;color:var(--cyan);
}
.slide-title{font-size:18px;font-weight:700;color:#fff;margin-bottom:4px;line-height:1.2;letter-spacing:.4px;font-family:'Oswald',sans-serif}
.slide-sub{font-size:11px;color:rgba(255,255,255,.75);margin-bottom:10px;line-height:1.4}
.slide-cta{
  display:inline-flex;align-items:center;gap:5px;
  background:linear-gradient(135deg,rgba(144,105,233,.75),rgba(144,105,233,.45));
  backdrop-filter:blur(10px);
  border:1px solid rgba(0,249,255,.5);border-radius:99px;
  padding:7px 16px;font-size:11.5px;font-weight:700;color:#fff;
  cursor:pointer;transition:all .2s;box-shadow:0 0 12px rgba(0,249,255,.2);
}
.slide-cta:hover{background:rgba(144,105,233,.95);box-shadow:0 0 20px rgba(0,249,255,.4)}
.slide-cta svg{width:13px;height:13px}
.slider-dots{position:absolute;bottom:10px;right:14px;display:flex;gap:5px;z-index:2}
.dot{width:6px;height:6px;border-radius:99px;background:rgba(255,255,255,.3);transition:all .3s;cursor:pointer;border:none;padding:0;flex-shrink:0}
.dot.active{width:20px;background:var(--cyan)}

/* Slider Arrows */
.slider-arrow{
  position:absolute;top:50%;transform:translateY(-50%);z-index:3;
  width:32px;height:32px;border-radius:50%;border:none;
  background:rgba(0,0,0,.45);backdrop-filter:blur(8px);
  color:rgba(255,255,255,.85);cursor:pointer;transition:all .2s;
  display:flex;align-items:center;justify-content:center;
}
.slider-arrow:hover{background:rgba(144,105,233,.6);color:#fff}
.slider-arrow svg{width:15px;height:15px}
.slider-prev{left:10px}
.slider-next{right:10px}





/* ═══════════════════════════════════════════════
   FLASH SALE
═══════════════════════════════════════════════ */
.flash-wrap{
  border:1px solid transparent;
  background-image:linear-gradient(#0a0a16,#0a0a16),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  border-radius:var(--r-lg);padding:14px;margin-bottom:14px;
  position:relative;overflow:hidden;
}
.flash-wrap::before{content:'';position:absolute;top:-40px;right:-40px;width:130px;height:130px;background:radial-gradient(circle,rgba(255,0,110,.1),transparent 70%);pointer-events:none}
.flash-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.flash-label{display:flex;align-items:center;gap:7px;font-size:14px;font-weight:700;letter-spacing:.5px;font-family:'Oswald',sans-serif}
.flash-label span:first-child{animation:flash 1s linear infinite}
.flash-hot-badge{font-size:8px;font-weight:700;background:var(--pink);color:#fff;padding:2px 6px;border-radius:4px;letter-spacing:.4px}
.timer{display:flex;align-items:center;gap:4px}
.tblock{background:linear-gradient(180deg,#9069e9,#050510);color:#fff;border-radius:6px;padding:3px 7px;font-size:13px;font-weight:700;min-width:28px;text-align:center;box-shadow:0 0 10px rgba(144,105,233,.35);font-family:'Oswald',sans-serif}
.tsep{font-size:13px;font-weight:700;color:var(--primary);animation:flash 1s linear infinite}

/* Flash scroll */
.flash-scroll{display:flex;gap:10px;overflow-x:auto;padding-bottom:4px;scrollbar-width:none;-webkit-overflow-scrolling:touch}
.flash-scroll::-webkit-scrollbar{display:none}

/* Flash Card */
.flash-card{
  flex-shrink:0;width:82%;max-width:285px;
  border:1px solid transparent;
  background-image:linear-gradient(#111118,#0a0a13),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  border-radius:var(--r);cursor:pointer;
  transition:transform .2s,box-shadow .2s;position:relative;
  padding:9px;display:flex;align-items:flex-start;gap:10px;
  -webkit-tap-highlight-color:transparent;
}
.flash-card:hover{transform:translateY(-3px);box-shadow:0 6px 20px rgba(144,105,233,.3),0 1px var(--cyan)}
.flash-img-wrap{flex-shrink:0;width:74px;height:74px;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,.12)}
.flash-img-wrap img{width:100%;height:100%;object-fit:cover}
.flash-info{flex:1;min-width:0;display:flex;flex-direction:column;gap:3px}
.flash-name{font-size:11.5px;font-weight:700;color:#fff;line-height:1.25;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;font-family:'Oswald',sans-serif}
.flash-subtitle{font-size:9px;color:var(--cyan);text-transform:uppercase;letter-spacing:.3px;font-weight:600;margin-top:1px}
.flash-price-row{display:flex;align-items:center;gap:5px;flex-wrap:wrap;margin-top:4px}
.flash-price{font-size:13.5px;font-weight:800;color:var(--text)}
.flash-orig{font-size:11px;color:var(--text3);text-decoration:line-through}
.flash-cta{display:inline-block;width:100%;margin-top:8px;padding:6px 10px;background:linear-gradient(180deg,#9069e9,#050510);color:#fff;border-radius:7px;font-size:12px;font-weight:700;text-align:center;cursor:pointer;transition:all .2s;border:none;font-family:'Oswald',sans-serif;box-shadow:0 1px var(--cyan)}
.flash-cta:hover{background:linear-gradient(180deg,var(--primary-light),var(--primary));transform:scale(1.02)}

/* Ribbon */
.ribbon{font-size:.5rem;font-weight:700;color:#fff;--f:.3em;--r:.9em;position:absolute;right:3px;top:calc(-1*var(--f));padding:.3em;border:solid #ff1293;border-width:0 0 var(--r) calc(2*var(--f));background:radial-gradient(69% 100% at bottom,#ff006e 99%,#ff1293 102%) 0 0/calc(2*var(--f)) var(--f) no-repeat border-box;background-color:#ff1293;border-radius:var(--f) var(--f) 0 0;clip-path:polygon(0 0,100% 0,100% 100%,calc(50% + var(--f)) calc(100% - var(--r)),calc(2*var(--f)) 100%,calc(2*var(--f)) var(--f),0 var(--f))}

/* ═══════════════════════════════════════════════
   SECTION HEADERS
═══════════════════════════════════════════════ */
.sec-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.sec-title{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:700;letter-spacing:.3px;font-family:'Oswald',sans-serif}
.sec-icon{width:28px;height:28px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:13px;flex-shrink:0}
.ic-purple{background:rgba(144,105,233,.18)}
.ic-green{background:rgba(0,212,170,.12)}
.ic-pink{background:rgba(255,0,110,.12)}
.ic-orange{background:rgba(255,130,0,.12)}
.ic-blue{background:rgba(59,130,246,.12)}
.see-all{font-size:12px;font-weight:600;color:var(--cyan);cursor:pointer;display:flex;align-items:center;gap:3px;white-space:nowrap;background:none;border:none;transition:opacity var(--t);font-family:'Oswald',sans-serif}
.see-all:hover{opacity:.7}
.see-all svg{width:13px;height:13px}

/* ═══════════════════════════════════════════════
   PRODUCT CARDS — 3-column grid with 2-para desc
═══════════════════════════════════════════════ */
.game-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-bottom:21px}
.game-card{
  display:flex;flex-direction:column;cursor:pointer;
  transition:transform .22s,box-shadow .22s;
  animation:fadeUp .33s ease both;border-radius:var(--r-sm);overflow:hidden;
  border:1px solid transparent;
  background-image:linear-gradient(#090913,#0b0b17),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  -webkit-tap-highlight-color:transparent;
}
.game-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px rgba(144,105,233,.35),0 1px var(--cyan)}
.game-card:active{transform:scale(.97)}

/* Image area */
.game-img-wrap{width:100%;aspect-ratio:1;overflow:hidden;background:var(--surface2);position:relative}
.game-img-wrap img{width:100%;height:100%;object-fit:cover;transition:transform .45s ease}
.game-card:hover .game-img-wrap img{transform:scale(1.02)}



/* Badges */
.badge-hot{position:absolute;top:4px;right:4px;background:linear-gradient(180deg,#9069e9,#050510);color:#fff;font-size:8px;font-weight:700;border-radius:4px;padding:2px 5px;text-transform:uppercase;pointer-events:none;box-shadow:0 0 10px rgba(144,105,233,.5)}
.badge-new{position:absolute;top:4px;right:4px;background:linear-gradient(180deg,#00d4aa,#065c44);color:#fff;font-size:8px;font-weight:700;border-radius:4px;padding:2px 5px;text-transform:uppercase;pointer-events:none}
.badge-sale{position:absolute;top:4px;right:4px;background:var(--pink);color:#fff;font-size:8px;font-weight:700;border-radius:4px;padding:2px 5px;text-transform:uppercase;pointer-events:none;box-shadow:0 0 8px rgba(255,0,110,.4)}

/* Card info */
.game-card-info{padding:7px 7px 9px;display:flex;flex-direction:column;gap:2px;flex:1;background:#090913}
.game-name{font-size:10.5px;font-weight:700;line-height:1.25;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--cyan);font-family:'Oswald',sans-serif}

/* 2-paragraph description on card */
.game-desc-block{margin-top:3px;display:flex;flex-direction:column;gap:2px}
.game-desc-p1{font-size:8.5px;color:var(--text3);line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-transform:uppercase;letter-spacing:.15px;font-weight:500}
.game-desc-p2{font-size:8px;color:rgba(120,120,160,.7);line-height:1.35;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;font-style:italic}

.game-price-row{display:flex;align-items:center;gap:4px;margin-top:5px;flex-wrap:wrap}
.game-price{font-size:10.5px;font-weight:700;color:var(--primary-light)}
.game-orig{font-size:8.5px;color:var(--text3);text-decoration:line-through}

/* Operator / E-Book Cards */
.op-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:9px;margin-bottom:22px}
.op-card{
  border:1px solid transparent;
  background-image:linear-gradient(#090913,#090913),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  border-radius:var(--r);padding:13px 10px;text-align:center;cursor:pointer;
  transition:all .22s;display:flex;flex-direction:column;align-items:center;gap:7px;
  -webkit-tap-highlight-color:transparent;
}
.op-card:hover{transform:translateY(-3px);box-shadow:0 6px 18px rgba(144,105,233,.3)}
.op-icon-wrap{font-size:28px;width:52px;height:52px;border-radius:12px;border:1px solid var(--border);background:rgba(144,105,233,.1);display:flex;align-items:center;justify-content:center;overflow:hidden}
.op-name{font-size:11px;font-weight:700;color:var(--cyan);font-family:'Oswald',sans-serif}
.op-desc{font-size:10px;color:var(--text3)}

/* ═══════════════════════════════════════════════
   PAYMENT & ABOUT SECTIONS
═══════════════════════════════════════════════ */
.payment-section{
  border:1px solid transparent;
  background-image:linear-gradient(#0d0d1c,#0d0d1c),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  border-radius:var(--r-lg);padding:16px;margin-bottom:18px;
}
.pm-logos{display:flex;flex-wrap:wrap;gap:7px;margin-top:10px}
.pm-badge{
  background:rgba(144,105,233,.09);border:1px solid var(--border);
  border-radius:9px;padding:5px 12px;font-size:11px;font-weight:600;
  color:var(--text2);display:flex;align-items:center;gap:4px;transition:all var(--t);
  cursor:default;
}
.pm-badge:hover{border-color:var(--primary);color:var(--cyan)}

.Media69-card{
  background:linear-gradient(135deg,var(--surface),var(--surface2));
  border:1px solid var(--border);border-radius:var(--r-xl);
  padding:16px;margin-bottom:14px;overflow:hidden;
}
.Media69{display:flex;align-items:flex-start;gap:12px;margin-bottom:4px}
.top-one{
  width:4px;flex-shrink:0;align-self:stretch;border-radius:99px;
  background:linear-gradient(180deg,var(--primary),var(--pink));min-height:40px;
}
.title{font-size:var(--fs-base);font-weight:700;color:var(--text);margin-bottom:3px;line-height:1.2}
.subtitle{font-size:11px;color:var(--text3);line-height:1.6}
.nprinsley-text-rainbowan{
  background:linear-gradient(90deg,var(--primary),var(--cyan),var(--magenta));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
  font-size:13px;font-weight:800;letter-spacing:.3px;margin-bottom:3px;display:inline-block;
}
/* About items */
.item{display:flex;align-items:flex-start;gap:12px;padding:10px 0;border-bottom:1px solid rgba(144,105,233,.07)}
.item:last-child{border-bottom:none;padding-bottom:0}
.item-icon{width:38px;height:38px;border-radius:10px;background:linear-gradient(135deg,rgba(144,105,233,.12),rgba(0,245,255,.05));border:1px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0}
.item-icon img{width:22px;height:22px;filter:brightness(0) saturate(100%) invert(70%) sepia(80%) saturate(500%) hue-rotate(200deg)}
.item-content{flex:1}
.item-title{font-size:13px;font-weight:700;color:var(--text);margin-bottom:3px}
.item-subtitle{font-size:11px;color:var(--text3);line-height:1.55}

/* ═══════════════════════════════════════════════
   NOTIFICATION TICKER
═══════════════════════════════════════════════ */
        .protection-container {
            width: 96%;
            max-width: 100%;
            margin: 21px auto;
         background:linear-gradient(135deg,rgba(144,105,233,.07),rgba(0,245,255,.03));
            border-radius: 12px;
box-shadow: 0 3px #9069e9;   
            overflow: hidden;
             border:1px solid var(--border);
      
        }
    
    .protection {
       background: linear-gradient(3deg, #000000, #9069e9);
      padding: 12px;
      display: flex;
      align-items: center;
  
  
    }
    
    .protection-icon {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-right: 5px;
      font-size: 15px;
      font-weight: bold;
      text-decoration: none;
      color: white;
    }
    
    .protection-icon img {
      width: 33px;
      height: 33px;
 
    font-size: 15px;
      font-weight: bold;
      text-decoration: none;
      }
    
    
    .protection-title {
      font-size: 15px;
      font-weight: bold;
      text-decoration: none;
      color: #F9F9F9;
    }
    
    .protection-box {
      background-color: ffffff;
      border: 1px solid #9069e9;
      border-radius: 9px;
      margin: 12px 16px;
      padding: 10px 12px;
      display: flex;
      align-items: center
    }
    
 .protect-icon {
      width: 20px;
      height: 20px;
      margin-right: 10px;
      filter: none;}
    
    .protection-text {
      font-size: 12px;
      color: #999;
      flex-grow: 1;
      font-weight: 669;
      width: 100%;
    }
    
    .changing-text::after {
      content: "";
      animation: textChange 9s infinite;
    }
    
    .top-section {
      display: flex;
      justify-content: space-between;
      margin: 15px;
      align-items: center;
      margin-bottom: 15px;
    }

    .left-section {
      display: flex;
      align-items: center;
    }

    .left-section img {
      width: 39px;
      height: 39px;
      margin-right: 5px;
    }

    .right-section {
      display: flex;
      align-items: center;
      gap: -1px;
    }
    .status-box {
      display: flex;
      align-items: center;
            background: linear-gradient(139deg, #4C5BA7, #DA64DB);
      color: white;
      padding: 5px 10px;
      border-radius: 5px 0 0 5px;
      font-size: 14px;
      font-weight: bold;
      border: 0px solid var(--primary-light);
    }



    .status-box img {
      width: 21px;
      height: 21px;
      filter: invert(100%) sepia(3%) saturate(0%) hue-rotate(274deg) brightness(106%) contrast(106%);
      margin-right: 5px;
    }
    
    .outline-box {
      display: flex;
      align-items: center;
      border: 1.5px solid #9069e9;
      border-radius: 0 5px 5px 0;
      padding: 5px 10px;
      color: var(--primary-light);
      font-size: 12px;
      font-weight: bold;
    }

/* Live badge */
.live-badge{display:inline-flex;align-items:center;gap:5px;background:rgba(255,0,110,.1);border:1px solid rgba(255,0,110,.22);border-radius:99px;padding:3px 10px;font-size:11px;font-weight:700;color:var(--pink)}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--pink);animation:livePulse 1s infinite}

/* ═══════════════════════════════════════════════
   BOTTOM NAVIGATION
═══════════════════════════════════════════════ */
#globalNav{
  position:fixed;bottom:0;left:0;right:0;z-index:300;
  background:linear-gradient(to bottom,rgba(6,6,15,.97),rgba(6,6,15,.99));
  backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);
  border-top:1px solid var(--border);
  display:flex;max-width:640px;margin:0 auto;
  padding-bottom:env(safe-area-inset-bottom);
}
@media(min-width:640px){#globalNav{left:50%;transform:translateX(-50%);width:640px}}
.nav-item{
  flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;
  padding:9px 0 12px;gap:3px;cursor:pointer;color:var(--text3);
  font-size:10px;font-weight:600;text-decoration:none;
  transition:color var(--t);position:relative;user-select:none;letter-spacing:.3px;
  -webkit-tap-highlight-color:transparent;font-family:'Oswald',sans-serif;
}
.nav-item.active{color:var(--cyan)}
.nav-item.active::before{content:'';position:absolute;top:0;left:50%;transform:translateX(-50%);width:32px;height:2px;border-radius:99px;background:linear-gradient(90deg,var(--primary),var(--cyan))}
.nav-icon{width:22px;height:22px;position:relative}
.nav-notif{position:absolute;top:-3px;right:-6px;width:8px;height:8px;border-radius:50%;background:var(--pink);border:2px solid var(--bg)}
.nav-badge{position:absolute;top:-6px;right:-9px;background:var(--pink);color:#fff;font-size:9px;font-weight:700;border-radius:99px;padding:1px 5px;border:2px solid var(--bg);min-width:17px;text-align:center;display:flex;align-items:center;justify-content:center}

/* ═══════════════════════════════════════════════
   PRODUCT DETAIL
═══════════════════════════════════════════════ */
.product-hero{position:relative;width:100%;aspect-ratio:16/9;overflow:hidden;background:var(--surface)}
.product-hero img{width:100%;height:100%;object-fit:cover}
.product-hero-overlay{position:absolute;inset:0;background:linear-gradient(to bottom,rgba(0,0,0,.1) 0%,var(--bg) 100%)}
.product-hero-content{position:absolute;bottom:0;left:0;right:0;max-width:640px;margin:0 auto;padding:0 18px 22px}
.product-cat{display:inline-flex;align-items:center;gap:4px;background:rgba(144,105,233,.18);border:1px solid var(--border);border-radius:99px;padding:3px 11px;font-size:11px;font-weight:600;color:var(--cyan);margin-bottom:7px;letter-spacing:.3px}
.product-title-lg{font-size:23px;font-weight:700;line-height:1.2;margin-bottom:5px;letter-spacing:.4px;background:linear-gradient(90deg,#f4f4fa,var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-family:'Oswald',sans-serif}
.product-meta{display:flex;align-items:center;gap:10px;font-size:12px;color:var(--text2)}
.detail-body{max-width:640px;margin:0 auto;padding:0 16px 170px}



/* Form Card */
.form-card{border:1px solid transparent;background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);background-origin:border-box;background-clip:padding-box,border-box;border-radius:var(--r-lg);padding:18px;margin:16px 0}
.form-title{font-size:14px;font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:8px;color:var(--cyan);letter-spacing:.3px;font-family:'Oswald',sans-serif}
.form-title svg{width:18px;height:18px;color:var(--primary)}
.input-group{margin-bottom:13px}
.input-label{font-size:12px;font-weight:600;color:var(--text2);margin-bottom:6px;display:block;letter-spacing:.2px}
.input-field{
  width:100%;border:1px solid transparent;
  background-image:linear-gradient(var(--surface2),var(--surface2)),var(--rg);
  background-origin:border-box;background-clip:padding-box,border-box;
  border-radius:10px;padding:12px 14px;font-size:13px;color:var(--text);transition:all .25s;
}
.input-field:focus{box-shadow:0 0 0 3px rgba(0,249,255,.15);transform:translateY(-1px)}
.input-field::placeholder{color:var(--text3)}
.verify-btn{width:100%;padding:11px;background:linear-gradient(180deg,rgba(144,105,233,.22),rgba(144,105,233,.1));border:1px solid var(--border);border-radius:10px;font-size:13px;font-weight:600;color:var(--text2);transition:all .2s;margin-top:4px;display:flex;align-items:center;justify-content:center;gap:6px}
.verify-btn:hover{border-color:var(--cyan);color:var(--cyan);box-shadow:0 0 12px rgba(0,249,255,.15)}
.verified-tag{display:none;align-items:center;gap:6px;background:rgba(0,212,170,.09);border:1px solid rgba(0,212,170,.28);border-radius:99px;padding:5px 13px;font-size:12px;font-weight:600;color:var(--green);margin-top:9px}
.verified-tag svg{width:15px;height:15px;flex-shrink:0}

/* Denomination */
.denom-label{font-size:14px;font-weight:700;margin:18px 0 12px;display:flex;align-items:center;gap:8px;color:var(--cyan);letter-spacing:.3px;font-family:'Oswald',sans-serif}
.denom-label svg{width:18px;height:18px;color:var(--gold)}
.denom-grid-single{display:grid;grid-template-columns:1fr;gap:10px;margin-bottom:16px}
.denom-card{
  border:1px solid rgba(144,105,233,.35);
  background:linear-gradient(135deg,#0b0b1a 0%,#110d22 50%,#0d0a18 100%);
  border-radius:var(--r-lg);padding:18px 16px;cursor:pointer;
  transition:all .25s;position:relative;overflow:hidden;
  display:flex;align-items:center;gap:14px;
  box-shadow:0 4px 24px rgba(0,0,0,.5),inset 0 1px 0 rgba(144,105,233,.1);
}
.denom-card::before{
  content:'';position:absolute;inset:0;
  background:linear-gradient(135deg,rgba(144,105,233,.08) 0%,rgba(0,249,255,.04) 50%,transparent 100%);
  pointer-events:none;
}
.denom-card:hover{border-color:var(--primary);box-shadow:0 6px 28px rgba(144,105,233,.35),inset 0 1px 0 rgba(144,105,233,.2);transform:translateY(-1px)}
.denom-card.selected{background:linear-gradient(135deg,#130d2a 0%,#1a0f35 50%,#110c25 100%);border-color:var(--primary);box-shadow:0 0 0 1px var(--primary),0 6px 28px rgba(144,105,233,.45),inset 0 1px 0 rgba(144,105,233,.25)}
.denom-card.selected::after{content:'✓';position:absolute;top:14px;right:16px;font-size:16px;font-weight:800;color:var(--cyan);text-shadow:0 0 10px rgba(0,249,255,.6)}
.denom-popular{position:absolute;top:0;right:16px;background:linear-gradient(135deg,#9069e9,#5a2fa0);color:#fff;font-size:9px;font-weight:700;padding:3px 10px;border-radius:0 0 8px 8px;box-shadow:0 2px 12px rgba(144,105,233,.4);letter-spacing:.4px}
.denom-icon{font-size:30px;flex-shrink:0;filter:drop-shadow(0 0 8px rgba(144,105,233,.4))}
.denom-body{flex:1}
.denom-amount{font-size:15px;font-weight:700;color:var(--text);letter-spacing:.2px;font-family:'Oswald',sans-serif}
.denom-desc{font-size:11px;color:var(--text3);margin:3px 0 8px;text-transform:uppercase;letter-spacing:.3px;line-height:1.4}
.denom-price-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.denom-price{font-size:18px;font-weight:800;color:var(--primary-light);text-shadow:0 0 20px rgba(176,143,255,.3);font-family:'Oswald',sans-serif}
.denom-orig{font-size:11px;color:var(--text3);text-decoration:line-through}
.denom-disc{font-size:11px;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--primary),var(--primary-dark));padding:2px 8px;border-radius:5px;box-shadow:0 2px 8px rgba(144,105,233,.3)}

/* Product Info Tabs */
.pi-tabs{display:flex;margin:20px 0 0;background:linear-gradient(135deg,#0a0a18,#0f0d20);border:1px solid rgba(144,105,233,.25);border-radius:12px;padding:4px;gap:4px}
.pi-tab{flex:1;padding:9px 8px;font-size:11.5px;font-weight:600;color:var(--text3);cursor:pointer;border-radius:9px;transition:all .25s;letter-spacing:.1px;text-align:center;border:1px solid transparent;font-family:'Oswald',sans-serif}
.pi-tab:hover{color:var(--text2);background:rgba(144,105,233,.08)}
.pi-tab.active{color:#fff;background:linear-gradient(135deg,var(--primary),var(--primary-dark));border-color:var(--primary);box-shadow:0 2px 12px rgba(144,105,233,.4)}
.pi-content{display:none;padding-top:16px}
.pi-content.active{display:block}

/* Info List */
.info-list{display:flex;flex-direction:column;background:linear-gradient(135deg,#0a0a18,#0e0c1c);border:1px solid rgba(144,105,233,.2);border-radius:var(--r);overflow:hidden}
.info-row{display:flex;justify-content:space-between;align-items:center;padding:11px 14px;border-bottom:1px solid rgba(144,105,233,.08)}
.info-row:last-child{border-bottom:none}
.info-row:nth-child(even){background:rgba(144,105,233,.03)}
.info-key{font-size:12px;color:var(--text3);font-weight:500}
.info-val{font-size:12px;font-weight:700;text-align:right;color:var(--cyan)}

/* How-to Steps */
.how-list{display:flex;flex-direction:column;gap:10px;margin-top:4px}
.how-item{display:flex;gap:12px;align-items:flex-start;background:linear-gradient(135deg,#0a0a18,#0e0c1c);border:1px solid rgba(144,105,233,.15);border-radius:var(--r-sm);padding:12px}
.how-num{width:26px;height:26px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--primary-dark));display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;flex-shrink:0;box-shadow:0 0 12px rgba(144,105,233,.4);color:#fff}
.how-text p:first-child{font-size:12px;font-weight:700;color:var(--cyan);margin-bottom:2px}
.how-text p:last-child{font-size:11px;color:var(--text3);line-height:1.5}

/* Reviews */
.review-list{display:flex;flex-direction:column;gap:10px}
.review-item{background:linear-gradient(135deg,#0a0a18,#0e0c1c);border:1px solid rgba(144,105,233,.18);border-radius:var(--r);padding:13px}
.review-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}
.reviewer{font-size:12px;font-weight:700;color:var(--cyan)}
.review-stars{color:var(--gold);font-size:12px}
.review-date{font-size:10px;color:var(--text3);margin-bottom:5px}
.review-text{font-size:12.5px;color:var(--text2);line-height:1.65}
.review-product{font-size:10px;color:var(--text3);margin-top:5px;text-transform:uppercase;letter-spacing:.3px}

/* Video / App Tampilan */
.cara-video-wrap{margin-bottom:14px;border-radius:var(--r);overflow:hidden;background:#000;position:relative;border:1px solid rgba(144,105,233,.25);box-shadow:0 4px 24px rgba(0,0,0,.6)}
.cara-video-wrap iframe{width:100%;border:none;display:block;aspect-ratio:16/9}
.cara-video-wrap video{width:100%;display:block;aspect-ratio:16/9;outline:none;background:#000}
.cara-video-placeholder{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px;color:var(--text3);font-size:13px;padding:40px 20px;background:linear-gradient(135deg,#080810,#100d20);border-radius:var(--r);border:1px dashed rgba(144,105,233,.2)}
.cvp-icon{font-size:40px;opacity:.6}

/* Sticky Buy Bar */
.sticky-buy{position:fixed;bottom:0;left:0;right:0;z-index:250;max-width:640px;margin:0 auto;padding:10px 16px 12px;background:linear-gradient(to top,rgba(6,6,15,.98),rgba(6,6,15,.9));backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-top:1px solid var(--border)}
@media(min-width:640px){.sticky-buy{left:50%;transform:translateX(-50%);width:640px}}
.buy-bar{display:flex;align-items:center;gap:12px}
.buy-info{flex:1}
.buy-label{font-size:10px;color:var(--text3);font-weight:500}
.buy-price{font-size:17px;font-weight:700;color:var(--primary-light);font-family:'Oswald',sans-serif}
.buy-btn{display:flex;align-items:center;gap:7px;padding:12px 20px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;border-radius:var(--r-lg);font-size:13.5px;font-weight:700;box-shadow:var(--shadow-p);transition:all .2s;cursor:pointer;border:none;letter-spacing:.3px;white-space:nowrap;font-family:'Oswald',sans-serif}
.buy-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 28px rgba(144,105,233,.55)}
.buy-btn:disabled{background:var(--surface2);color:var(--text3);box-shadow:none;cursor:not-allowed}

/* Product Short Desc + Info Price */
.info-desc-block{margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid rgba(144,105,233,.12)}
.info-desc-block p{font-size:12.5px;color:var(--text2);line-height:1.8;margin-bottom:8px}
.info-desc-block p:last-child{margin-bottom:0}
.info-desc-block p strong{color:var(--text);font-weight:700}
.info-price-card{display:flex;align-items:center;gap:12px;flex-wrap:wrap;background:linear-gradient(135deg,rgba(144,105,233,.1),rgba(0,249,255,.04));border:1px solid rgba(144,105,233,.3);border-radius:var(--r);padding:14px 16px;margin-bottom:14px}
.ipc-label{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.6px;flex-basis:100%}
.ipc-price{font-size:22px;font-weight:800;color:var(--primary-light);text-shadow:0 0 20px rgba(176,143,255,.3);letter-spacing:.3px;font-family:'Oswald',sans-serif}
.ipc-orig{font-size:13px;color:var(--text3);text-decoration:line-through;margin-top:2px}
.ipc-disc{font-size:11px;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--pink),#a0003e);padding:3px 10px;border-radius:99px;box-shadow:0 2px 8px rgba(255,0,110,.3);margin-left:auto}

/* ═══════════════════════════════════════════════
   PAYMENT PAGE
═══════════════════════════════════════════════ */
.pay-page{max-width:640px;margin:0 auto;padding:16px 16px 140px}
.order-summary{border:1px solid transparent;background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);background-origin:border-box;background-clip:padding-box,border-box;border-radius:var(--r-lg);padding:16px;margin-bottom:14px}
.os-title{font-size:13px;font-weight:700;color:var(--cyan);margin-bottom:12px;letter-spacing:.3px;font-family:'Oswald',sans-serif}
.os-item{display:flex;align-items:center;gap:12px;margin-bottom:14px}
.os-img{width:54px;height:54px;border-radius:10px;object-fit:cover;border:1px solid var(--border);flex-shrink:0}
.os-game{font-size:14px;font-weight:700;color:var(--text);margin-bottom:2px;font-family:'Oswald',sans-serif}
.os-denom{font-size:12px;color:var(--cyan);margin-bottom:2px}
.os-uid{font-size:11px;color:var(--text3)}
.price-rows{border-top:1px solid rgba(144,105,233,.12);padding-top:12px}
.pr{display:flex;justify-content:space-between;align-items:center;font-size:13px;padding:5px 0}
.pr-label{color:var(--text2)}
.pr-val{font-weight:600;color:var(--text)}
.pr.total{border-top:1px solid rgba(144,105,233,.12);margin-top:5px;padding-top:10px}
.pr.total .pr-label{font-weight:700;color:var(--text);font-size:14px}
.pr.total .pr-val{color:var(--cyan);font-size:16px;font-weight:700}
.discount-row .pr-val{color:var(--green)}

/* Promo */
.promo-row{display:flex;gap:8px;margin-bottom:10px}
.promo-input{flex:1;background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-size:13px;color:var(--text);transition:all .2s}
.promo-input:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(144,105,233,.15)}
.promo-input::placeholder{color:var(--text3)}
.promo-btn{padding:10px 18px;background:linear-gradient(180deg,var(--primary),var(--primary-dark));color:#fff;border-radius:10px;font-size:13px;font-weight:700;cursor:pointer;transition:all .2s;white-space:nowrap;font-family:'Oswald',sans-serif}
.promo-btn:hover{transform:scale(1.03)}
.promo-success{display:none;align-items:center;gap:6px;background:rgba(0,212,170,.08);border:1px solid rgba(0,212,170,.25);border-radius:9px;padding:8px 13px;font-size:12px;font-weight:600;color:var(--green);margin-bottom:12px}
.promo-success svg{width:14px;height:14px;flex-shrink:0}

/* Payment Methods */
.pm-section{margin-bottom:14px}
.pm-section-title{font-size:13px;font-weight:700;color:var(--cyan);display:flex;align-items:center;gap:8px;margin-bottom:12px;letter-spacing:.3px;font-family:'Oswald',sans-serif}
.pm-section-title svg{width:16px;height:16px;color:var(--primary)}
.pm-group{margin-bottom:12px}
.pm-group-title{font-size:10.5px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.8px;margin-bottom:8px;padding-left:2px}
.pm-list{display:flex;flex-direction:column;gap:7px}
.pm-item{display:flex;align-items:center;gap:12px;border:1px solid transparent;background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);background-origin:border-box;background-clip:padding-box,border-box;border-radius:var(--r);padding:12px 14px;cursor:pointer;transition:all .2s;-webkit-tap-highlight-color:transparent}
.pm-item:hover{box-shadow:0 4px 14px rgba(144,105,233,.2)}
.pm-item.selected{background-image:linear-gradient(rgba(144,105,233,.09),rgba(144,105,233,.09)),var(--rg);box-shadow:0 0 0 1px var(--primary),0 4px 18px rgba(144,105,233,.3)}
.pm-logo{width:42px;height:30px;border-radius:7px;display:flex;align-items:center;justify-content:center;font-size:21px;flex-shrink:0}
.pm-info{flex:1}
.pm-name{font-size:13px;font-weight:600}
.pm-desc{font-size:11px;color:var(--text3);margin-top:1px}
.pm-extra{font-size:11px;color:var(--cyan);font-weight:600;margin-top:2px}
.pm-radio{width:18px;height:18px;border-radius:50%;border:2px solid var(--border);flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:all .2s}
.pm-item.selected .pm-radio{border-color:var(--primary);background:var(--primary)}
.pm-radio-dot{width:7px;height:7px;border-radius:50%;background:#fff;opacity:0;transition:opacity .2s}
.pm-item.selected .pm-radio-dot{opacity:1}

/* Pay Instructions */
.pay-instructions{border:1px solid transparent;background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);background-origin:border-box;background-clip:padding-box,border-box;border-radius:var(--r-lg);padding:18px;margin:14px 0;display:none}
.pay-instructions.show{display:block;animation:fadeUp .25s ease}
.pi-header{display:flex;align-items:center;gap:10px;margin-bottom:14px}
.pi-logo{font-size:28px}
.pi-bank-name{font-size:15px;font-weight:700;font-family:'Oswald',sans-serif}
.pi-bank-type{font-size:11px;color:var(--text3);margin-top:1px}

/* QRIS Box */
.qris-box{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:14px}
.qris-img{width:184px;height:184px;border-radius:var(--r);background:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden;border:2px solid rgba(144,105,233,.3)}
.qris-img img{width:100%;height:100%;object-fit:contain}
.qris-note{font-size:11.5px;color:var(--text3);text-align:center;line-height:1.5}

/* Account Box */
.account-box{background:rgba(144,105,233,.06);border:1px solid rgba(144,105,233,.2);border-radius:var(--r-sm);padding:12px 14px;margin-bottom:14px}
.acc-label{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:.6px;margin-bottom:8px}
.acc-number{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:5px}
.acc-number span{font-size:18px;font-weight:700;letter-spacing:.8px;color:var(--text);font-family:'Oswald',sans-serif}
.acc-name{font-size:11px;color:var(--text3)}

/* Amount Box */
.amount-box{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(135deg,rgba(144,105,233,.1),rgba(0,249,255,.04));border:1px solid rgba(144,105,233,.25);border-radius:var(--r-sm);padding:12px 14px;margin-bottom:14px}
.amount-label{font-size:10px;color:var(--text3);margin-bottom:3px;text-transform:uppercase;letter-spacing:.5px}
.amount-value{font-size:18px;font-weight:800;color:var(--cyan);font-family:'Oswald',sans-serif}
.amount-note{font-size:10px;color:var(--gold);margin-top:2px}
.copy-btn{flex-shrink:0;padding:7px 14px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;border-radius:8px;font-size:11.5px;font-weight:700;border:none;cursor:pointer;transition:all .2s;font-family:'Oswald',sans-serif}
.copy-btn:hover{transform:scale(1.04)}

/* Steps */
.pi-steps{font-size:12px;color:var(--text2);line-height:1.9;border-top:1px solid rgba(144,105,233,.12);padding-top:12px;margin-top:0}
.pi-steps strong{color:var(--cyan)}

/* Upload */
.upload-section{margin:14px 0}
.upload-title{font-size:13px;font-weight:700;color:var(--cyan);display:flex;align-items:center;gap:8px;margin-bottom:6px;font-family:'Oswald',sans-serif}
.upload-title svg{width:16px;height:16px;color:var(--primary)}
.upload-sub{font-size:11px;color:var(--text3);margin-bottom:12px}
.upload-area{
  border:2px dashed rgba(144,105,233,.35);border-radius:var(--r-lg);
  padding:22px;text-align:center;cursor:pointer;transition:all .2s;position:relative;overflow:hidden;
  background:rgba(144,105,233,.04);
}
.upload-area:hover,.upload-area.has-file{border-color:var(--primary);background:rgba(144,105,233,.08)}
.upload-area input{position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%}
.upload-icon{font-size:32px;margin-bottom:8px}
.upload-text{font-size:13px;font-weight:600;color:var(--text2);margin-bottom:3px}
.upload-hint{font-size:11px;color:var(--text3)}
.upload-preview{width:100%;max-width:200px;max-height:150px;object-fit:contain;margin:12px auto 0;border-radius:var(--r-sm);display:none;border:1px solid var(--border)}
.upload-preview.show{display:block}
.upload-filename{font-size:11.5px;color:var(--green);margin-top:8px;display:none;font-weight:600}
.upload-filename.show{display:block}
.tg-progress{display:none;align-items:center;gap:8px;margin-top:12px;color:var(--cyan);font-size:12px;font-weight:600}
.tg-progress.show{display:flex}
.tg-spinner{width:16px;height:16px;border:2px solid rgba(0,249,255,.2);border-top-color:var(--cyan);border-radius:50%;animation:spin 1s linear infinite;flex-shrink:0}

/* Pay Button */
.pay-btn{
  width:100%;padding:15px;margin:16px 0 0;
  background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  color:#fff;border-radius:var(--r-lg);font-size:14px;font-weight:700;
  display:flex;align-items:center;justify-content:center;gap:8px;
  box-shadow:var(--shadow-p);transition:all .2s;cursor:pointer;border:none;
  letter-spacing:.3px;font-family:'Oswald',sans-serif;
}
.pay-btn:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 6px 28px rgba(144,105,233,.55)}
.pay-btn:disabled{background:var(--surface2);color:var(--text3);box-shadow:none;cursor:not-allowed}
.pay-btn svg{width:16px;height:16px}
.pay-notice{font-size:11px;color:var(--text3);text-align:center;line-height:1.7;margin-top:12px}
.pay-notice strong{color:var(--text2)}

/* ═══════════════════════════════════════════════
   PROCESSING PAGE
═══════════════════════════════════════════════ */
.process-page{
  max-width:640px;margin:0 auto;padding:60px 20px;
  display:flex;flex-direction:column;align-items:center;text-align:center;
  min-height:80svh;justify-content:center;gap:10px;
}
.process-anim{font-size:56px;margin-bottom:14px;animation:floatUp 1.5s ease-in-out infinite}
.process-title{font-size:20px;font-weight:700;letter-spacing:.3px;font-family:'Oswald',sans-serif}
.process-sub{font-size:13px;color:var(--text3);line-height:1.7;max-width:300px}
.pending-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(245,197,24,.1);border:1px solid rgba(245,197,24,.3);border-radius:99px;padding:5px 14px;font-size:11px;font-weight:700;color:var(--gold);margin-bottom:8px}
.pending-dot{width:7px;height:7px;border-radius:50%;background:var(--gold);animation:livePulse 1s infinite}
.order-id-box{background:linear-gradient(135deg,rgba(144,105,233,.12),rgba(0,249,255,.06));border:1px solid rgba(144,105,233,.35);border-radius:var(--r-lg);padding:16px 20px;margin:18px 0;width:100%;max-width:340px}
.oid-label{font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:.6px;margin-bottom:7px}
.oid-val{font-size:18px;font-weight:800;color:var(--cyan);letter-spacing:.6px;font-family:'Oswald',sans-serif}
.success-detail{width:100%;max-width:360px;background:rgba(144,105,233,.06);border:1px solid rgba(144,105,233,.2);border-radius:var(--r);padding:14px;margin-bottom:20px}
.sd-row{display:flex;justify-content:space-between;align-items:center;font-size:12.5px;padding:5px 0;border-bottom:1px solid rgba(144,105,233,.07)}
.sd-row:last-child{border-bottom:none}
.sd-key{color:var(--text3)}
.sd-val{font-weight:600;color:var(--text)}
.action-btns{display:flex;flex-direction:column;gap:10px;width:100%;max-width:340px}

/* ═══════════════════════════════════════════════
   ORDERS PAGE
═══════════════════════════════════════════════ */
.orders-page{max-width:640px;margin:0 auto;padding:16px 16px 100px}
.order-filter{display:flex;gap:7px;margin-bottom:16px;overflow-x:auto;padding-bottom:2px;scrollbar-width:none}
.order-filter::-webkit-scrollbar{display:none}
.of-btn{padding:7px 16px;border-radius:99px;font-size:12px;font-weight:600;cursor:pointer;border:1px solid var(--border);background:rgba(144,105,233,.08);color:var(--text3);transition:all .2s;white-space:nowrap;font-family:'Oswald',sans-serif}
.of-btn.active{background:linear-gradient(135deg,var(--primary),var(--primary-dark));border-color:var(--primary);color:#fff;box-shadow:0 2px 10px rgba(144,105,233,.4)}
.order-list{display:flex;flex-direction:column;gap:10px}
.order-item{border:1px solid transparent;background-image:linear-gradient(var(--surface),var(--surface)),var(--rg);background-origin:border-box;background-clip:padding-box,border-box;border-radius:var(--r-lg);padding:14px;animation:fadeUp .3s ease both}
.oi-head{display:flex;align-items:center;gap:10px;margin-bottom:10px}
.oi-img{width:44px;height:44px;border-radius:9px;object-fit:cover;border:1px solid var(--border);flex-shrink:0}
.oi-info{flex:1;min-width:0}
.oi-game{font-size:13px;font-weight:700;color:var(--text);font-family:'Oswald',sans-serif}
.oi-denom{font-size:11px;color:var(--text3);margin-top:2px}
.oi-id{font-size:10px;color:var(--text3);margin-top:2px}
.oi-status{border-radius:99px;padding:3px 10px;font-size:9.5px;font-weight:700;letter-spacing:.3px;flex-shrink:0}
.status-pending{background:rgba(245,197,24,.12);color:var(--gold);border:1px solid rgba(245,197,24,.25)}
.status-success{background:rgba(0,212,170,.1);color:var(--green);border:1px solid rgba(0,212,170,.25)}
.status-failed{background:rgba(255,68,68,.1);color:var(--red);border:1px solid rgba(255,68,68,.25)}
.oi-meta{display:flex;justify-content:space-between;align-items:center;font-size:11px;color:var(--text3);margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid rgba(144,105,233,.08)}
.oi-price{margin-left:auto;font-size:15px;font-weight:700;color:var(--primary-light);flex-shrink:0;font-family:'Oswald',sans-serif}
.empty-state{text-align:center;padding:60px 20px;color:var(--text3)}
.empty-icon{font-size:54px;margin-bottom:14px}
.empty-title{font-size:16px;font-weight:700;color:var(--text2);margin-bottom:6px;font-family:'Oswald',sans-serif}
.empty-sub{font-size:13px;line-height:1.6}


/* ═══════════════════════════════════════════════
   EMBED PAGES
═══════════════════════════════════════════════ */
.info-page{max-width:640px;margin:0 auto;padding:0}
.info-embed-wrap,.embed-wrap{width:100%;height:calc(100svh - 56px - 64px);position:relative;background:var(--surface)}
.info-embed-wrap iframe,.embed-wrap iframe{width:100%;height:100%;border:none;display:block}
.info-embed-loader,.embed-loader{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;background:var(--surface);z-index:1;transition:opacity .3s}
.info-embed-loader.hidden,.embed-loader.hidden{opacity:0;pointer-events:none}
.info-loader-spin,.embed-loader-spin{width:36px;height:36px;border:3px solid rgba(144,105,233,.18);border-top-color:var(--primary);border-radius:50%;animation:spin 1s linear infinite}
.info-loader-text,.embed-loader-text{font-size:13px;color:var(--text3)}
.embed-page{max-width:640px;margin:0 auto;padding:0}

/* ═══════════════════════════════════════════════
   TOAST
═══════════════════════════════════════════════ */
.toast{
  position:fixed;bottom:80px;left:50%;transform:translateX(-50%) translateY(20px);
  background:linear-gradient(135deg,rgba(20,10,40,.97),rgba(10,5,25,.97));
  border:1px solid var(--border);border-radius:99px;
  padding:10px 20px;font-size:13px;font-weight:600;
  display:flex;align-items:center;gap:8px;
  box-shadow:0 0 12px rgba(144,105,233,.4),0 1px var(--cyan);
  z-index:700;opacity:0;pointer-events:none;
  transition:all .3s cubic-bezier(.175,.885,.32,1.275);
  white-space:nowrap;max-width:calc(100vw - 32px);color:#fff;
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

/* ═══════════════════════════════════════════════
   ORDER ACTIONS (WA + Copy buttons)
═══════════════════════════════════════════════ */
.oi-actions{display:flex;gap:7px;margin-top:10px;padding-top:10px;border-top:1px solid rgba(144,105,233,.08)}
.oi-wa-btn{display:inline-flex;align-items:center;gap:5px;background:linear-gradient(135deg,#128c7e,#075e54);color:#fff;border-radius:99px;padding:5px 12px;font-size:11px;font-weight:700;text-decoration:none;transition:all .2s;border:none;cursor:pointer;box-shadow:0 2px 10px rgba(18,140,126,.3);letter-spacing:.2px;font-family:'Oswald',sans-serif}
.oi-wa-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(18,140,126,.45)}
.oi-copy-btn{display:inline-flex;align-items:center;gap:5px;background:rgba(144,105,233,.1);border:1px solid var(--border);color:var(--text2);border-radius:99px;padding:5px 12px;font-size:11px;font-weight:700;cursor:pointer;transition:all .2s;font-family:'Oswald',sans-serif}
.oi-copy-btn:hover{background:rgba(144,105,233,.22);border-color:var(--primary);color:var(--cyan)}

/* WA Button on success page */
.btn-wa{display:flex;align-items:center;justify-content:center;gap:8px;padding:14px;background:linear-gradient(135deg,#25d366,#128c7e);color:#fff;border-radius:var(--r-lg);font-size:14px;font-weight:700;text-decoration:none;box-shadow:0 4px 20px rgba(37,211,102,.35);transition:all .2s;letter-spacing:.3px;font-family:'Oswald',sans-serif}
.btn-wa:hover{transform:translateY(-1px);box-shadow:0 6px 28px rgba(37,211,102,.5)}
.btn-primary{display:flex;align-items:center;justify-content:center;gap:8px;padding:13px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;border-radius:var(--r-lg);font-size:14px;font-weight:700;cursor:pointer;transition:all .2s;border:none;letter-spacing:.3px;width:100%;font-family:'Oswald',sans-serif}
.btn-primary:hover{transform:translateY(-1px);box-shadow:var(--shadow-p)}
.btn-secondary{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:rgba(144,105,233,.1);border:1px solid var(--border);color:var(--text);border-radius:var(--r-lg);font-size:13px;font-weight:700;cursor:pointer;transition:all .2s;letter-spacing:.3px;width:100%;font-family:'Oswald',sans-serif}
.btn-secondary:hover{background:rgba(144,105,233,.2);border-color:var(--primary)}

/* ═══════════════════════════════════════════════
   PWA INSTALL BANNER
═══════════════════════════════════════════════ */
.pwa-banner{
  position:fixed;bottom:72px;left:50%;transform:translateX(-50%) translateY(20px);
  width:calc(100% - 28px);max-width:600px;z-index:500;
  background:linear-gradient(135deg,#110d22,#1a1035);
  border:1px solid rgba(144,105,233,.4);border-radius:var(--r-lg);
  padding:12px 14px;display:flex;align-items:center;justify-content:space-between;gap:10px;
  box-shadow:0 8px 40px rgba(0,0,0,.6),0 0 0 1px rgba(0,249,255,.06);
  opacity:0;transition:all .35s cubic-bezier(.175,.885,.32,1.275);pointer-events:none;
}
.pwa-banner.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:all}
.pwa-banner-left{display:flex;align-items:center;gap:10px;flex:1;min-width:0}
.pwa-banner-icon{width:40px;height:40px;border-radius:10px;flex-shrink:0;border:1px solid var(--border)}
.pwa-banner-text{flex:1;min-width:0}
.pwa-banner-title{font-size:13px;font-weight:700;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:'Oswald',sans-serif}
.pwa-banner-sub{font-size:10.5px;color:var(--text3);margin-top:1px}
.pwa-banner-actions{display:flex;align-items:center;gap:6px;flex-shrink:0}
.pwa-btn-install{padding:7px 16px;background:linear-gradient(135deg,var(--primary),var(--primary-dark));color:#fff;border-radius:99px;font-size:12px;font-weight:700;border:none;cursor:pointer;transition:all .2s;white-space:nowrap;box-shadow:0 0 12px rgba(144,105,233,.4);font-family:'Oswald',sans-serif}
.pwa-btn-install:hover{transform:scale(1.04);box-shadow:0 0 20px rgba(144,105,233,.55)}
.pwa-btn-dismiss{width:26px;height:26px;border-radius:50%;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.1);color:var(--text3);font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;flex-shrink:0;font-family:'Oswald',sans-serif}
.pwa-btn-dismiss:hover{background:rgba(255,68,68,.15);border-color:var(--red);color:var(--red)}


/* ═══════════════════════════════════════════════
   BACK TO TOP BUTTON
═══════════════════════════════════════════════ */
.back-to-top{
  position:fixed;bottom:82px;right:16px;z-index:440;
  width:38px;height:38px;border-radius:50%;border:none;
  background:linear-gradient(135deg,var(--primary),var(--primary-dark));
  color:#fff;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 16px rgba(144,105,233,.45);
  opacity:0;transform:translateY(12px) scale(.85);
  transition:all .35s cubic-bezier(.175,.885,.32,1.275);pointer-events:none;
}
.back-to-top.show{opacity:1;transform:translateY(0) scale(1);pointer-events:all}
.back-to-top:hover{transform:translateY(-2px) scale(1.08);box-shadow:0 6px 22px rgba(144,105,233,.6)}
.back-to-top svg{width:18px;height:18px}
@media(min-width:640px){.back-to-top{right:calc(50% - 304px)}}

/* ═══════════════════════════════════════════════
   UTILITY
═══════════════════════════════════════════════ */
.divider{height:1px;background:rgba(144,105,233,.12);margin:14px 0}

/* ═══════════════════════════════════════════════
   REDUCED MOTION
═══════════════════════════════════════════════ */
@media(prefers-reduced-motion:reduce){
  *,*::before,*::after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}
}



</style>
</head>
<body>

<!-- ══════════════════════════════════════════════════
     PAGE: HOME
══════════════════════════════════════════════════ -->
<div class="page active" id="page-home">

  <header class="header" role="banner">
    <div class="header-inner">
      <div class="header-row">
        <a class="logo" href="#" onclick="showPage('home');return false;" aria-label="Media69 Digital Store — Beranda">
          <div class="logo-mark" aria-hidden="true">M</div>
          <div class="logo-text">
            <span class="logo-name">Zona Asupan 69</span>
            <span class="logo-sub">Digital Store</span>
          </div>
        </a>
        <div class="header-actions">


          <button class="icon-btn" onclick="showToast('Tidak ada notifikasi baru','🔔')" title="Notifikasi" aria-label="Notifikasi" type="button">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
            <span class="notif-dot" aria-hidden="true"></span>
          </button>

        </div>
      </div>

      <!-- SEARCH + FILTER -->
      <div class="search-wrap" role="search" aria-label="Cari produk">
        <div class="search-row">
          <div class="search-container">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
            <input class="search-input" id="searchInput" type="search" placeholder="Cari streaming, video, template…" autocomplete="off" aria-label="Cari produk" aria-controls="searchResults" aria-haspopup="listbox" spellcheck="false"/>
            <button class="search-clear" id="searchClearBtn" type="button" aria-label="Hapus pencarian" style="display:none">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
            </button>
            <div class="search-results" id="searchResults" role="listbox" aria-label="Hasil pencarian"></div>
          </div>
          <div class="filter-dd-wrap">
            <button class="filter-btn" id="filterBtn" aria-haspopup="true" aria-expanded="false" aria-label="Filter kategori" type="button">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><line x1="4" y1="6" x2="20" y2="6"/><line x1="8" y1="12" x2="16" y2="12"/><line x1="11" y1="18" x2="13" y2="18"/></svg>
              <span class="filter-dot" aria-hidden="true"></span>
            </button>
            <div class="filter-dropdown" id="filterDropdown" role="menu" aria-label="Kategori produk"></div>
          </div>
        </div>
      </div>

      <!-- CATEGORY PILLS -->
      <div class="cat-pills-wrap" aria-label="Filter kategori cepat">
        <div class="cat-pills" id="catPills" role="tablist"></div>
      </div>
    </div>
  </header>

  <main class="main" id="mainContent">

    <!-- ── TAB: SEMUA ── -->
    <div class="tab-content active" id="tab-semua" role="tabpanel" aria-label="Semua produk">

      <!-- HERO SLIDER -->
      <section class="hero-slider" id="heroSlider" aria-label="Promo unggulan">
        <div class="slides-track" id="slidesTrack"></div>
        <div class="slider-dots" id="sliderDots" aria-label="Navigasi slide"></div>
        <button class="slider-arrow slider-prev" id="sliderPrev" aria-label="Slide sebelumnya" type="button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <button class="slider-arrow slider-next" id="sliderNext" aria-label="Slide berikutnya" type="button">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </section>



      <!-- QUICK MENU -->


    </div><!-- /tab-semua visible area -->

    <!-- ══ FLASH SALE ══ -->
    <section class="flash-wrap" aria-label="Flash Sale produk bundling terbaik">
      <div class="flash-hdr">
        <div class="flash-label">
          <span aria-hidden="true">⚡</span>
          <span>Flash Sale</span>
          <span class="flash-hot-badge">HOT</span>
        </div>
        <div class="timer" aria-label="Waktu flash sale tersisa" role="timer" aria-live="off">
          <div class="tblock" id="th" aria-label="Jam">02</div>
          <span class="tsep" aria-hidden="true">:</span>
          <div class="tblock" id="tm" aria-label="Menit">34</div>
          <span class="tsep" aria-hidden="true">:</span>
          <div class="tblock" id="ts" aria-label="Detik">18</div>
        </div>
      </div>
      <div class="flash-scroll" id="flashGrid" role="list"></div>
    </section>

    <!-- ══ POPULER ══ -->
    <section aria-labelledby="sec-populer">
      <div class="sec-hdr">
        <div class="sec-title">
          <div class="sec-icon ic-orange" aria-hidden="true">🔥</div>
          <h2 id="sec-populer">Populer</h2>
        </div>
        <button class="see-all" onclick="applyFilter('populer')" aria-label="Lihat semua produk populer" type="button">
          Lihat Semua <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
      <div class="game-grid" id="grid-populer" role="list"></div>
    </section>

    <!-- ══ LIVE STREAMING ══ -->
    <section aria-labelledby="sec-software">
      <div class="sec-hdr">
        <div class="sec-title">
          <div class="sec-icon ic-purple" aria-hidden="true">📡</div>
          <h2 id="sec-software">Live Streaming</h2>
        </div>
        <button class="see-all" onclick="applyFilter('software')" aria-label="Lihat semua live streaming" type="button">
          Lihat Semua <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
      <div class="game-grid" id="grid-software" role="list"></div>
    </section>

    <!-- ══ VIDEO STREAMING ══ -->
    <section aria-labelledby="sec-voucher">
      <div class="sec-hdr">
        <div class="sec-title">
          <div class="sec-icon ic-pink" aria-hidden="true">🎬</div>
          <h2 id="sec-voucher">Video Streaming</h2>
        </div>
        <button class="see-all" onclick="applyFilter('voucher')" aria-label="Lihat semua video streaming" type="button">
          Lihat Semua <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
      <div class="game-grid" id="grid-voucher" role="list"></div>
    </section>

    <!-- ══ ASUPAN LAINNYA ══ -->
    <section aria-labelledby="sec-template">
      <div class="sec-hdr">
        <div class="sec-title">
          <div class="sec-icon ic-orange" aria-hidden="true">🎨</div>
          <h2 id="sec-template">Asupan Lainnya</h2>
        </div>
        <button class="see-all" onclick="applyFilter('template')" aria-label="Lihat semua asupan lainnya" type="button">
          Lihat Semua <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </div>
      <div class="game-grid" id="grid-template" role="list"></div>
    </section>


 <!-- ══ ABOUT ══ -->
  <section class="Media69-card">
    <div class="Media69">

      <div class="top-one"></div>
      <div>
        <div class="title">     <div class="nprinsley-text-rainbowan"> ༺✰𝐌𝐄𝐃𝐈𝐀𝟔𝟗 𝐃𝐈𝐆𝐈𝐓𝐀𝐋 𝐒𝐓𝐎𝐑𝐄✰༻</div>
        <div class="subtitle" >𝖦𝗎𝖽𝖺𝗇𝗀𝗇𝗒𝖺 𝖺𝗌𝗎𝗉𝖺𝗇 𝖺𝗅𝗅 𝗂𝗇 𝗈𝗇𝖾 𝖻𝖾𝗋𝖻𝖺𝗌𝗂𝗌 𝖽𝗂𝗀𝗂𝗍𝖺𝗅 𝗌𝗍𝗈𝗋𝖾, 𝗒𝖺𝗇𝗀 𝖽𝗂 𝗋𝖺𝗇𝖼𝖺𝗇𝗀 𝗎𝗇𝗍𝗎𝗄 𝗆𝖺𝗆𝗉𝗎 𝗉𝖾𝗇𝗎𝗁𝗂 𝗌𝖾𝗀𝖺𝗅𝖺 𝖺𝗌𝗎𝗉𝖺𝗇 𝖽𝖾𝗐𝖺𝗌𝖺 𝗄𝖺𝗅𝗂𝖺𝗇 𝖽𝖺𝗇 𝖽𝗂 𝖻𝗎𝖺𝗍 𝗌𝖾𝖼𝖺𝗋𝖺 𝖠𝗆𝖺𝗇 𝖵𝖨𝖯 𝖽𝖺𝗇 𝖾𝗌𝗄𝗅𝗎𝗌𝗂𝖿  </div>
      </div>
    </div>
    </div>
    
    <div class="divider"></div>
    
    <div class="item">
      <div class="item-icon">
        <img src="https://cdn-icons-png.flaticon.com/128/9232/9232100.png" alt="Gift Icon">
      </div>
      <div class="item-content">
        <div class="item-title">VIP & ESKLUSIF</div>
        <div class="item-subtitle">Dapatkan asupan kamu secara aman,VIP dan Esklusif yang tanpa batas</div>
      </div>
    </div>
    
    <div class="item">
      <div class="item-icon">
        <img src="https://cdn-icons-png.flaticon.com/128/9610/9610479.png" alt="Gift Icon">
      </div>
      <div class="item-content">
        <div class="item-title">Transaksi Mudah & Aman</div>
        <div class="item-subtitle">Transaksi dan saldo kamu aman  terlindungi dengan media69 protect security</div>
      </div>
    </div>
    
    <div class="item">
      <div class="item-icon">
        <img src="https://cdn-icons-png.flaticon.com/128/14247/14247521.png" alt="Gift Icon">
      </div>
      <div class="item-content">
        <div class="item-title">Privacy Protection</div>
        <div class="item-subtitle">100% Privasi dan keamanan data kamu terjaga dan dilindungi</div>
      </div>
    </div>
    
    <div class="item">
      <div class="item-icon">
        <img src="https://cdn-icons-png.flaticon.com/128/10439/10439779.png" alt="Gift Icon">
      </div>
      <div class="item-content">
        <div class="item-title">Bantuan Pelanggan</div>
        <div class="item-subtitle">24 Jam siap membantu dan menjawab semua pertanyaan maupun kebutuhan asupan anda</div>
      </div>
    </div>
  
</section>

    <!-- ══ LIVE BUY TICKER ══ -->
  <section class="protection-container">
    <div class="protection">
       
        <div class="protection-icon">
        <img src="https://cdn-icons-png.flaticon.com/128/1161/1161439.png">
	    </div>
     
      <div class="protection-icon" style="color: white; webkit-animation: flash linear 1s infinite; font-size: 12px;
" > Privasi &amp; Transaksi Anda Terlindungi </a>
      </div>
    </div>
    
    <!-- Search Box -->
    <div class="protection-box">
      <img src="https://cdn-icons-png.flaticon.com/128/7653/7653930.png" alt="Search Icon" class="protect-icon">
      <div class="protection-text changing-text"> "lumxxx berhasil membeli hamster69 Premium "</div>
    </div>
    
    <!-- Protection Items -->
    <div class="top-section">
      <div class="left-section">
        <img src="https://cdn-icons-png.flaticon.com/128/10484/10484590.png" alt="Icon">
        <div>
          <p style="margin: 6; font-weight: bold; color: var(--primary-light);">Media69</p>
          <p style="margin: 0; font-size: 15px; color: var(--primary-light);">Protection</p>
        </div>
      </div>
      <div class="right-section">
        <div class="status-box">
          <img src="https://cdn-icons-png.flaticon.com/128/1161/1161490.png" alt="Shield Icon">
          <span>100%</span>
        </div>
        <div class="outline-box">Melindungi</div>
      </div>
    </div>
  </div>
    </section>

    <!-- ── TAB: POPULER ── -->
    <div class="tab-content" id="tab-populer" role="tabpanel" aria-label="Produk Populer">
      <div class="sec-hdr" style="margin-top:4px">
        <div class="sec-title"><div class="sec-icon ic-orange" aria-hidden="true">🔥</div><h2>Populer</h2></div>
      </div>
      <div class="game-grid" id="grid-populer2" role="list"></div>
    </div>

    <!-- ── TAB: LIVE STREAMING ── -->
    <div class="tab-content" id="tab-software" role="tabpanel" aria-label="Live Streaming App">
      <div class="sec-hdr" style="margin-top:4px">
        <div class="sec-title"><div class="sec-icon ic-purple" aria-hidden="true">📡</div><h2>Live Streaming App</h2></div>
      </div>
      <div class="game-grid" id="grid-software2" role="list"></div>
    </div>

    <!-- ── TAB: VIDEO STREAMING ── -->
    <div class="tab-content" id="tab-voucher" role="tabpanel" aria-label="Video Streaming">
      <div class="sec-hdr" style="margin-top:4px">
        <div class="sec-title"><div class="sec-icon ic-pink" aria-hidden="true">🎬</div><h2>Video Streaming</h2></div>
      </div>
      <div class="game-grid" id="grid-voucher2" role="list"></div>
    </div>

    <!-- ── TAB: E-BOOK ── -->
    <div class="tab-content" id="tab-ebook" role="tabpanel" aria-label="E-Book dan Kursus">
      <div class="sec-hdr" style="margin-top:4px">
        <div class="sec-title"><div class="sec-icon ic-green" aria-hidden="true">📚</div><h2>E-Book &amp; Kursus</h2></div>
      </div>
      <div class="op-grid" id="grid-ebook2" role="list"></div>
    </div>

    <!-- ── TAB: TEMPLATE ── -->
    <div class="tab-content" id="tab-template" role="tabpanel" aria-label="Template dan Aset">
      <div class="sec-hdr" style="margin-top:4px">
        <div class="sec-title"><div class="sec-icon ic-orange" aria-hidden="true">🎨</div><h2>Template &amp; Aset</h2></div>
      </div>
      <div class="game-grid" id="grid-template2" role="list"></div>
    </div>


</div><!-- /page-home -->


<!-- ══════════════════════════════════════════════════
     PAGE: PRODUCT DETAIL
══════════════════════════════════════════════════ -->
<div class="page" id="page-product">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="goBack()" aria-label="Kembali ke halaman sebelumnya" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title" id="productBackTitle">Detail Produk</span>
    <div class="header-action-right">

      <button class="icon-btn" onclick="shareProduct()" aria-label="Bagikan produk ini" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/>
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
        </svg>
      </button>
    </div>
  </header>

  <div class="product-hero" id="productHero">
    <img id="productHeroImg" src="" alt="" loading="lazy" width="640" height="360"/>
    <div class="product-hero-overlay" aria-hidden="true"></div>
    <div class="product-hero-content">
      <div class="product-cat" id="productCat"></div>
      <h1 class="product-title-lg" id="productTitleLg"></h1>
      <div class="product-meta" id="productMeta"></div>
    </div>
  </div>

  <main class="detail-body">
    <div class="form-card" id="formCard">
      <div class="form-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
        <span id="formTitle">Data Penerima Produk</span>
      </div>
      <div id="formFields"></div>
      <button class="verify-btn" id="verifyBtn" onclick="verifyUser()" type="button">📱 Konfirmasi Data</button>
      <div class="verified-tag" id="verifiedTag" style="display:none" role="status" aria-live="polite">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><polyline points="20 6 9 17 4 12"/></svg>
        <span id="verifiedName">Data Terverifikasi</span>
      </div>
    </div>

    <div class="denom-label">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3M12 17h.01"/></svg>
      Pilih Paket
    </div>
    <div id="denomGrid" role="radiogroup" aria-label="Pilih paket produk"></div>

    <div class="pi-tabs" role="tablist" aria-label="Informasi produk">
      <div class="pi-tab active" onclick="switchPiTab('info',this)" role="tab" aria-selected="true" tabindex="0">Info Produk</div>
      <div class="pi-tab" onclick="switchPiTab('cara',this)" role="tab" aria-selected="false" tabindex="-1">Tampilan App</div>
      <div class="pi-tab" onclick="switchPiTab('ulasan',this)" role="tab" aria-selected="false" tabindex="-1">Ulasan</div>
    </div>
    <div class="pi-content active" id="pi-info" role="tabpanel"><div id="piInfoContent"></div></div>
    <div class="pi-content" id="pi-cara" role="tabpanel"><div id="piCaraContent"></div></div>
    <div class="pi-content" id="pi-ulasan" role="tabpanel"><div id="piUlasanContent"></div></div>
  </main>

  <div class="sticky-buy" aria-label="Tombol beli">
    <div class="buy-bar">
      <div class="buy-info">
        <div class="buy-label">Total Pembayaran</div>
        <div class="buy-price" id="buyPrice" aria-live="polite">Pilih paket</div>
      </div>
      <button class="buy-btn" id="buyBtn" onclick="goToPayment()" disabled aria-label="Beli Sekarang" type="button">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" width="16" height="16" aria-hidden="true"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
        Beli Sekarang
      </button>
    </div>
  </div>
</div><!-- /page-product -->


<!-- ══════════════════════════════════════════════════
     PAGE: PAYMENT
══════════════════════════════════════════════════ -->
<div class="page" id="page-payment">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="goBack()" aria-label="Kembali ke halaman produk" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Pembayaran</span>
  </header>
  <main class="pay-page">
    <div class="order-summary" aria-label="Ringkasan pesanan">
      <div class="os-title">📋 Ringkasan Pesanan</div>
      <div class="os-item">
        <img class="os-img" id="osImg" src="" alt="" loading="lazy" width="54" height="54"/>
        <div class="os-info">
          <div class="os-game" id="osGame"></div>
          <div class="os-denom" id="osDenom"></div>
          <div class="os-uid" id="osUid"></div>
        </div>
      </div>
      <div class="price-rows">
        <div class="pr"><span class="pr-label">Harga produk</span><span class="pr-val" id="prHarga"></span></div>
        <div class="pr discount-row" id="prDiscount" style="display:none"><span class="pr-label">Diskon promo</span><span class="pr-val" id="prDiscVal"></span></div>
        <div class="pr"><span class="pr-label">Biaya layanan</span><span class="pr-val">Rp 0</span></div>
        <div class="pr total"><span class="pr-label">Total</span><span class="pr-val" id="prTotal"></span></div>
      </div>
    </div>

    <div class="promo-row" role="group" aria-label="Kode promo">
      <input class="promo-input" id="promoInput" placeholder="Punya kode promo? Masukkan di sini" autocomplete="off" aria-label="Kode promo" type="text" spellcheck="false"/>
      <button class="promo-btn" onclick="applyPromo()" type="button">Pakai</button>
    </div>
    <div class="promo-success" id="promoSuccess" style="display:none" role="status" aria-live="polite">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><polyline points="20 6 9 17 4 12"/></svg>
      Promo berhasil! Hemat <span id="promoSave"></span>
    </div>

    <div class="pm-section">
      <div class="pm-section-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
        Pilih Metode Pembayaran
      </div>
      <div id="paymentMethodsContainer" role="radiogroup" aria-label="Metode pembayaran"></div>
    </div>

    <div class="pay-instructions" id="payInstructions" aria-live="polite"></div>

    <div class="upload-section" id="uploadSection" style="display:none">
      <div class="upload-title">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
        Upload Bukti Pembayaran
      </div>
      <div class="upload-sub">📸 Upload screenshot / foto struk transfer kamu</div>
      <div class="upload-area" id="uploadArea" role="button" tabindex="0" aria-label="Tap untuk upload bukti pembayaran">
        <input type="file" id="uploadInput" accept="image/*" capture="environment" aria-label="Pilih file bukti pembayaran"/>
        <div class="upload-icon" aria-hidden="true">📸</div>
        <div class="upload-text">Tap untuk pilih / kamera</div>
        <div class="upload-hint">JPG, PNG, WEBP — maks 10MB</div>
        <img class="upload-preview" id="uploadPreview" src="" alt="Preview bukti pembayaran"/>
      </div>
      <div class="upload-filename" id="uploadFilename" aria-live="polite"></div>
      <div class="tg-progress" id="tgProgress" aria-live="polite">
        <div class="tg-spinner" aria-hidden="true"></div>
        <span class="tg-text">Mengirim bukti ke admin…</span>
      </div>
    </div>

    <button class="pay-btn" id="payBtn" onclick="processPayment()" disabled aria-label="Kirim dan Konfirmasi Pesanan" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M22 2L11 13"/><path d="M22 2L15 22l-4-9-9-4 20-7z"/></svg>
      Kirim &amp; Konfirmasi Pesanan
    </button>
    <p class="pay-notice">
      🔒 Pembayaran dikonfirmasi manual oleh admin dalam 1×24 jam<br/>
      <strong>Simpan Order ID</strong> sebagai bukti pembelian kamu.
    </p>
  </main>
</div><!-- /page-payment -->


<!-- ══════════════════════════════════════════════════
     PAGE: PROCESSING / RESULT
══════════════════════════════════════════════════ -->
<div class="page" id="page-processing">
  <main class="process-page" id="processContent" aria-live="polite" aria-atomic="true">
    <div class="process-anim loading" aria-hidden="true">📤</div>
    <div class="process-title">Mengirim Bukti…</div>
    <div class="process-sub">Mohon tunggu, jangan menutup halaman ini</div>
  </main>
</div><!-- /page-processing -->


<!-- ══════════════════════════════════════════════════
     PAGE: ORDERS
══════════════════════════════════════════════════ -->
<div class="page" id="page-orders">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="goBack()" aria-label="Kembali" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Status Pesanan Saya</span>
  </header>
  <main class="orders-page">
    <div class="order-filter" role="group" aria-label="Filter pesanan">
      <button class="of-btn active" onclick="filterOrders('all',this)" type="button">Semua</button>
      <button class="of-btn" onclick="filterOrders('success',this)" type="button">Sukses</button>
      <button class="of-btn" onclick="filterOrders('pending',this)" type="button">Proses</button>
      <button class="of-btn" onclick="filterOrders('failed',this)" type="button">Gagal</button>
    </div>
    <div class="order-list" id="orderList" aria-live="polite" role="list"></div>
  </main>
</div><!-- /page-orders -->




<!-- ══════════════════════════════════════════════════
     PAGE: INFO — EMBED
══════════════════════════════════════════════════ -->
<div class="page" id="page-info">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="showPage('home')" aria-label="Kembali ke Beranda" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Info &amp; Bantuan</span>
    <div class="header-action-right">
      <a href="https://media69digitalstore.my.id/info69" target="_blank" rel="noopener noreferrer" class="icon-btn" aria-label="Buka di browser baru">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </a>
    </div>
  </header>
  <main class="info-page">
    <div class="info-embed-wrap">
      <div class="info-embed-loader" id="infoEmbedLoader">
        <div class="info-loader-spin" aria-hidden="true"></div>
        <div class="info-loader-text">Memuat halaman info…</div>
      </div>
      <iframe
        src="https://media69digitalstore.my.id/info69"
        title="Info &amp; Bantuan Media69 Digital Store"
        loading="lazy"
        allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation"
        onload="document.getElementById('infoEmbedLoader').classList.add('hidden')"
        onerror="document.getElementById('infoEmbedLoader').innerHTML='<div style=\'text-align:center;padding:20px;color:#999;font-size:13px\'>⚠️ Halaman tidak dapat dimuat.<br/><a href=\'https://media69digitalstore.my.id/info69\' target=\'_blank\' style=\'color:#9069e9;font-weight:700;margin-top:10px;display:inline-block\'>Buka di browser ↗</a></div>'">
      </iframe>
    </div>
  </main>
</div><!-- /page-info -->


<!-- ══════════════════════════════════════════════════
     PAGE: CS — EMBED
══════════════════════════════════════════════════ -->
<div class="page" id="page-cs">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="showPage('home')" aria-label="Kembali ke Beranda" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Customer Service</span>
    <div class="header-action-right">
      <a href="https://media69digitalstore.my.id/livechat" target="_blank" rel="noopener noreferrer" class="icon-btn" aria-label="Buka CS di browser baru">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </a>
    </div>
  </header>
  <main class="embed-page">
    <div class="embed-wrap">
      <div class="embed-loader" id="csEmbedLoader">
        <div class="embed-loader-spin" aria-hidden="true"></div>
        <div class="embed-loader-text">Menghubungkan ke CS…</div>
      </div>
      <iframe
        src="https://media69digitalstore.my.id/livechat"
        title="Customer Service Media69 Digital Store"
        loading="lazy"
        allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation"
        onload="document.getElementById('csEmbedLoader').classList.add('hidden')"
        onerror="document.getElementById('csEmbedLoader').innerHTML='<div style=\'text-align:center;padding:20px;color:#999;font-size:13px\'>⚠️ Halaman tidak dapat dimuat.<br/><a href=\'https://media69digitalstore.my.id/livechat\' target=\'_blank\' style=\'color:#9069e9;font-weight:700;margin-top:10px;display:inline-block\'>Buka di browser ↗</a></div>'">
      </iframe>
    </div>
  </main>
</div><!-- /page-cs -->


<!-- ══════════════════════════════════════════════════
     PAGE: PESANAN — EMBED
══════════════════════════════════════════════════ -->
<div class="page" id="page-pesanan">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="showPage('home')" aria-label="Kembali ke Beranda" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Pesanan &amp; Top Up</span>
    <div class="header-action-right">
      <a href="https://media69digitalstore.my.id/topupstar" target="_blank" rel="noopener noreferrer" class="icon-btn" aria-label="Buka di browser baru">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </a>
    </div>
  </header>
  <main class="embed-page">
    <div class="embed-wrap">
      <div class="embed-loader" id="pesananEmbedLoader">
        <div class="embed-loader-spin" aria-hidden="true"></div>
        <div class="embed-loader-text">Memuat halaman pesanan…</div>
      </div>
      <iframe
        src="https://media69digitalstore.my.id/topupstar"
        title="Pesanan &amp; Top Up Media69 Digital Store"
        loading="lazy"
        allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation"
        onload="document.getElementById('pesananEmbedLoader').classList.add('hidden')"
        onerror="document.getElementById('pesananEmbedLoader').innerHTML='<div style=\'text-align:center;padding:20px;color:#999;font-size:12px\'>⚠️ Halaman tidak dapat dimuat.<br/><a href=\'https://media69digitalstore.my.id/topupstar\' target=\'_blank\' style=\'color:#9069e9;font-weight:700;margin-top:10px;display:inline-block\'>Buka di browser ↗</a></div>'">
      </iframe>
    </div>
  </main>
</div><!-- /page-pesanan -->


<!-- ══════════════════════════════════════════════════
     PAGE: VIDEO69 — EMBED
══════════════════════════════════════════════════ -->
<div class="page" id="page-akun">
  <header class="back-header" role="banner">
    <button class="back-btn" onclick="showPage('home')" aria-label="Kembali ke Beranda" type="button">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>
    <span class="back-title">Video69</span>
    <div class="header-action-right">
      <a href="https://media69digitalstore.my.id/video69" target="_blank" rel="noopener noreferrer" class="icon-btn" aria-label="Buka Video69 di browser baru">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
      </a>
    </div>
  </header>
  <main class="embed-page">
    <div class="embed-wrap">
      <div class="embed-loader" id="akunEmbedLoader">
        <div class="embed-loader-spin" aria-hidden="true"></div>
        <div class="embed-loader-text">Memuat Video69…</div>
      </div>
      <iframe
        src="https://media69digitalstore.my.id/video69"
        title="Video69 Media69 Digital Store"
        loading="lazy"
        allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation"
        onload="document.getElementById('akunEmbedLoader').classList.add('hidden')"
        onerror="document.getElementById('akunEmbedLoader').innerHTML='<div style=\'text-align:center;padding:20px;color:#999;font-size:13px\'>⚠️ Halaman tidak dapat dimuat.<br/><a href=\'https://media69digitalstore.my.id/video69\' target=\'_blank\' style=\'color:#9069e9;font-weight:700;margin-top:10px;display:inline-block\'>Buka di browser ↗</a></div>'">
      </iframe>
    </div>
  </main>
</div><!-- /page-akun -->


<!-- ══════════════════════════════════════════════════
     GLOBAL BOTTOM NAVIGATION
══════════════════════════════════════════════════ -->
<nav id="globalNav" aria-label="Navigasi utama">
  <div class="nav-item active" id="nav-home" onclick="showPage('home',this)" role="button" tabindex="0" aria-label="Beranda" aria-current="page">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </div>
    Home
  </div>
  <div class="nav-item" id="nav-info" onclick="showPage('info',this)" role="button" tabindex="0" aria-label="Info dan Bantuan">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
      <span class="nav-notif" aria-hidden="true"></span>
    </div>
    Info
  </div>
  <div class="nav-item" id="nav-cs" onclick="showPage('cs',this)" role="button" tabindex="0" aria-label="Customer Service">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
    </div>
    CS
  </div>
  <div class="nav-item" id="nav-pesanan" onclick="showPage('pesanan',this)" role="button" tabindex="0" aria-label="Pesanan Saya">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"/><rect x="9" y="3" width="6" height="4" rx="1"/></svg>
      <span class="nav-badge" id="orderBadge" style="display:none" aria-label="Jumlah pesanan">0</span>
    </div>
    Pesanan
  </div>
  <div class="nav-item" id="nav-akun" onclick="showPage('akun',this)" role="button" tabindex="0" aria-label="Video69">
    <div class="nav-icon">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2"/></svg>
    </div>
    Video69
  </div>
</nav>

<!-- BACK TO TOP BUTTON -->
<button class="back-to-top" id="backToTop" type="button" aria-label="Kembali ke atas" style="display:none">
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M18 15l-6-6-6 6"/></svg>
</button>

<!-- PWA INSTALL BANNER -->
<div class="pwa-banner" id="pwaBanner" role="banner" aria-label="Install aplikasi" style="display:none">
  <div class="pwa-banner-left">
    <img src="https://i.postimg.cc/Sx9CbsQd/1746200925-file-111-69.png" alt="Media69 App Icon" class="pwa-banner-icon" width="40" height="40"/>
    <div class="pwa-banner-text">
      <div class="pwa-banner-title">Install Media69 App</div>
      <div class="pwa-banner-sub">Akses lebih cepat, bisa offline!</div>
    </div>
  </div>
  <div class="pwa-banner-actions">
    <button class="pwa-btn-install" id="pwaBtnInstall" type="button">Install</button>
    <button class="pwa-btn-dismiss" id="pwaBtnDismiss" type="button" aria-label="Tutup">✕</button>
  </div>
</div>



<!-- TOAST NOTIFICATION -->
<div class="toast" id="toast" role="alert" aria-live="assertive" aria-atomic="true"></div>

<!-- MAIN SCRIPT — non-blocking -->
<script>


/* ═══════════════════════════════════════════════════════════════
   Media69 Digital Store — main.js
   Version : 8.0.0 — Production Ready + PWA + Wishlist + Category Pills
   Author  : Media69 Digital Store
═══════════════════════════════════════════════════════════════ */
'use strict';

/* ════════════════════════════════════════════════════════════
   ⚙️  CONFIG — Ganti nilai di bawah ini sesuai konfigurasi kamu
════════════════════════════════════════════════════════════ */
const CONFIG = {
  storeName: 'Media69 Digital Store',

  telegram: {
    botToken: 'GANTI_TOKEN_BOT_TELEGRAM_KAMU',   // ← ganti
    chatId:   'GANTI_CHAT_ID_ATAU_GROUP_ID',      // ← ganti
  },

  bankAccounts: {
    bca:     { id:'bca',     name:'BCA',     emoji:'🔵', noRek:'1234567890',       atasNama:'Media69 Official', desc:'Bank Central Asia',       extra:'Konfirmasi otomatis 1×24 jam' },
    mandiri: { id:'mandiri', name:'Mandiri', emoji:'🟡', noRek:'1100009876543',    atasNama:'Media69 Official', desc:'Bank Mandiri',             extra:'Konfirmasi otomatis 1×24 jam' },
    bni:     { id:'bni',     name:'BNI',     emoji:'🟠', noRek:'0123456789',       atasNama:'Media69 Official', desc:'Bank Negara Indonesia',    extra:'Konfirmasi otomatis 1×24 jam' },
    bri:     { id:'bri',     name:'BRI',     emoji:'🔵', noRek:'0987001234567890', atasNama:'Media69 Official', desc:'Bank Rakyat Indonesia',    extra:'Konfirmasi otomatis 1×24 jam' },
    seabank: { id:'seabank', name:'SeaBank', emoji:'🟢', noRek:'901234567890',     atasNama:'Media69 Official', desc:'SeaBank Indonesia',        extra:'Transfer instan, gratis biaya'  },
  },

  qrisImageUrl: 'https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://media69digitalstore.my.id/qris&bgcolor=ffffff&color=000000&margin=10',

  promoCodes: {
    'KUYMURAH':  { type:'percent', value:10,  label:'Diskon 10%'       },
    'NEWUSER':   { type:'fixed',   value:5000, label:'Potongan Rp 5.000' },
    'DIGITAL25': { type:'percent', value:25,  label:'Diskon 25%'       },
  },

  lifetimePrices: {
    'microsoft-office':         { price:799000,  original:1200000 },
    'windows-11':               { price:399000,  original:600000  },
    'nordvpn':                  { price:699000,  original:2100000 },
    'kaspersky':                { price:499000,  original:800000  },
    'adobe-cc':                 { price:1299000, original:3500000 },
    'spotify-premium':          { price:249000,  original:549900  },
    'google-play':              { price:199000,  original:300000  },
    'steam-wallet':             { price:299000,  original:500000  },
    'ebook-bisnis':             { price:249000,  original:800000  },
    'kursus-digital-marketing': { price:399000,  original:2000000 },
    'canva-templates':          { price:149000,  original:500000  },
    'figma-ui-kit':             { price:179000,  original:530000  },
    'ppt-templates':            { price:99000,   original:350000  },
  },

  /* ── WhatsApp Admin ── */
  whatsapp: {
    number: '6281234567890',   // ← ganti nomor WA admin (format: 628xxxx)
    showFloat: true,
    floatDelay: 8000,
  },

  caraBeli: { videoUrl:'https://files.catbox.moe/234b6g.mp4', videoTitle:'Tampilan Aplikasi — Media69 Digital Store' },

  /* ── HERO SLIDER SLIDES — bgImg bisa diisi URL gambar background ── */
  slides: [
    {
      id:0,
      badge:'⚡ Flash Sale',
      title:'Asupan Live Streaming!',
      sub:'Akses VIP live streaming premium terlengkap',
      cta:'Beli Sekarang',
      ctaTarget:'microsoft-office',
      bg:'s1',
      bgImg:'',
      iconUrl:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_053624_0000.png?updatedAt=1766705945853',
      iconEmoji:'📡',
      glowColor:'rgba(144,105,233,.32)',
    },
    {
      id:1,
      badge:'🎥 Video Streaming',
      title:'Blue-X 69 VIP Hemat!',
      sub:'Streaming video premium, aktivasi instan ke No HP',
      cta:'Beli Sekarang',
      ctaTarget:'spotify-premium',
      bg:'s2',
      bgImg:'',
      iconUrl:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_055527_0000.png?updatedAt=1766705945970',
      iconEmoji:'🎬',
      glowColor:'rgba(0,212,170,.28)',
    },
    {
      id:2,
      badge:'✨ Movie & Template',
      title:'Movie69 VIP Pro!',
      sub:'Film premium & konten kreator terlengkap',
      cta:'Lihat Produk',
      ctaTarget:'canva-templates',
      bg:'s3',
      bgImg:'',
      iconUrl:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_060600_0000.png?updatedAt=1766705945607',
      iconEmoji:'🎬',
      glowColor:'rgba(255,95,132,.22)',
    },
  ],

  flashItems: [
    {
      id:'flash-silver',
      name:'PROMO BUNDLING SILVER',
      sub:'(ASUPAN69 + BLUE-X69)',
      price:180999,
      orig:205000,
      disc:'57% OFF',
      img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20260204_175354_0000.png',
      link:'microsoft-office',
    },
    {
      id:'flash-gold',
      name:'PROMO BUNDLING GOLD',
      sub:'(ASUPAN69 + BLUE-X69 + MOVIE69)',
      price:280999,
      orig:375000,
      disc:'57% OFF',
      img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20260204_180526_0000.png',
      link:'spotify-premium',
    },
    {
      id:'flash-platinum',
      name:'PROMO BUNDLING PLATINUM',
      sub:'(GET ALL PRODUCT)',
      price:350999,
      orig:500000,
      disc:'70% OFF',
      img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20260204_181250_0000.png',
      link:'adobe-cc',
    },
  ],
};

/* ════════════════════════════════════════════════════════════
   📦  PRODUCTS DATA
════════════════════════════════════════════════════════════ */
const PRODUCTS = {
  'microsoft-office': {
    id:'microsoft-office', name:'Asupan69 VIP Pro', cat:'Livestreaming',
    shortDesc:'Live streaming premium VIP tanpa batas — akses ribuan channel hiburan, olahraga, dan lifestyle dari seluruh dunia.',
    shortDesc2:'Aktivasi instan ke No HP kamu dalam 1–5 menit setelah pembayaran dikonfirmasi.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_053624_0000.png?updatedAt=1766705945853',
    badge:'hot', rating:4.9, sold:'8K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Budi Santoso',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap dikirim'],
    info:[{key:'Platform',val:'Windows & Mac'},{key:'Jenis',val:'Lisensi Digital'},{key:'Pengiriman',val:'Via No HP, 1–5 menit'},{key:'Garansi',val:'Resmi'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Masukkan nama & No HP aktif','Konfirmasi data kamu','Pilih paket Access Lifetime','Pilih metode pembayaran','Upload bukti transfer','Lisensi dikirim ke No HP dalam 1–5 menit'],
    reviews:[{name:'Rina S.',stars:5,text:'Langsung aktif, harga jauh lebih murah!',item:'Access Lifetime',date:'14 Feb'},{name:'Ahmad P.',stars:5,text:'Proses cepat, kode masuk WA 2 menit.',item:'Access Lifetime',date:'10 Feb'}],
  },
  'windows-11': {
    id:'windows-11', name:'EE69 VIP Pro', cat:'Livestreaming',
    shortDesc:'Akses VIP streaming eksklusif dengan kualitas video HD — konten premium tanpa iklan, bisa ditonton di semua perangkat.',
    shortDesc2:'Harga terbaik dengan kualitas streaming Full HD, tanpa buffering, lancar sepanjang hari.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251217_200208_0000.png',
    badge:'sale', rating:4.8, sold:'5K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Dewi Lestari',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap dikirim'],
    info:[{key:'Platform',val:'Windows'},{key:'Jenis',val:'Product Key Digital'},{key:'Pengiriman',val:'Via No HP, 1–5 menit'},{key:'Garansi',val:'Aktivasi Berhasil'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Masukkan nama & No HP','Konfirmasi data','Pilih paket','Bayar & upload bukti','Product Key dikirim ke No HP'],
    reviews:[{name:'Joko W.',stars:5,text:'Product key valid, langsung aktif!',item:'Access Lifetime',date:'12 Feb'}],
  },
  'nordvpn': {
    id:'nordvpn', name:'567 VIP Pro', cat:'Livestreaming',
    shortDesc:'Live streaming konten premium kelas VIP dengan server ultra-cepat dan stabil.',
    shortDesc2:'Koneksi aman, server multi-negara, streaming tanpa hambatan 24 jam penuh.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20260204_174111_0000.png',
    badge:'new', rating:4.7, sold:'3K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama',placeholder:'Contoh: Andi Pratama',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap diproses'],
    info:[{key:'Platform',val:'Windows, Mac, iOS, Android'},{key:'Server',val:'60+ Negara'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Isi data','Bayar','Upload bukti','Akun VPN dikirim ke No HP'],
    reviews:[{name:'Rizky F.',stars:5,text:'Cepat banget, langsung bisa dipakai!',item:'Access Lifetime',date:'13 Feb'}],
  },
  'kaspersky': {
    id:'kaspersky', name:'Global69 Live App', cat:'Livestreaming',
    shortDesc:'Live streaming global tanpa batasan geografis — akses konten dari berbagai negara dengan kualitas Full HD.',
    shortDesc2:'Ribuan channel internasional dapat diakses kapan saja dan di mana saja.',
    img:'https://ik.imagekit.io/Mediadigtalstore/IMG_20250817_225522_480.jpg?updatedAt=1755446178601',
    badge:null, rating:4.6, sold:'3K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Siti Rahma',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓'],
    info:[{key:'Platform',val:'Windows, Mac, Android, iOS'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Isi data','Bayar','Upload bukti','Kode aktivasi dikirim ke No HP'],
    reviews:[{name:'Dony R.',stars:4,text:'Berjalan lancar, kualitas terbaik.',item:'Access Lifetime',date:'12 Feb 2026'}],
  },
  'adobe-cc': {
    id:'adobe-cc', name:'Dunstream 69 App', cat:'Livestreaming',
    shortDesc:'Aplikasi livestreaming barbar dengan akses full konten tanpa berlangganan — nikmati streaming tak terbatas sekali bayar.',
    shortDesc2:'Ribuan channel live dari berbagai genre — hiburan, olahraga, berita, dan dewasa.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20260204_174111_0000.png',
    badge:'hot', rating:4.9, sold:'4K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Eko Prasetyo',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap diaktifkan'],
    info:[{key:'Platform',val:'Windows & Mac'},{key:'Include',val:'Cloud 100GB'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Isi data','Bayar','Upload bukti','Akun diaktifkan dalam 5–15 menit, info via No HP'],
    reviews:[{name:'Lina D.',stars:5,text:'Legit! Semua tools bisa dipakai.',item:'Access Lifetime',date:'14 Feb'}],
  },
  'spotify-premium': {
    id:'spotify-premium', name:'Blue-X 69 VIP', cat:'VideoStreaming',
    shortDesc:'Video streaming VIP tanpa batas dengan koleksi konten eksklusif terlengkap — kualitas jernih, buffering nol, akses seumur hidup.',
    shortDesc2:'Ribuan konten film, series, dan video dewasa premium tersedia setelah aktivasi.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_055527_0000.png?updatedAt=1766705945970',
    badge:'hot', rating:4.9, sold:'12K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Nadia Putri',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap diupgrade'],
    info:[{key:'Platform',val:'Android, iOS, PC, Smart TV'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Masukkan nama & No HP','Bayar','Upload bukti','Akun diupgrade ke Premium, info via No HP'],
    reviews:[{name:'Nadia P.',stars:5,text:'Langsung aktif, kualitas sangat jernih!',item:'Access Lifetime',date:'15 Feb'},{name:'Bagas K.',stars:5,text:'Paling murah dan cepat prosesnya!',item:'Access Lifetime',date:'11 Feb'}],
  },
  'google-play': {
    id:'google-play', name:'IndoViral 69 App', cat:'VideoStreaming',
    shortDesc:'Konten viral Indonesia terlengkap dan terpanas — video hiburan lokal, konten kreator terbaik, semua bisa diakses tanpa batas.',
    shortDesc2:'Update konten setiap hari, bisa diakses offline, kualitas HD premium.',
    img:'https://ik.imagekit.io/Mediadigtalstore/b3786e50ec6a766505.png?updatedAt=1754121138925',
    badge:null, rating:4.8, sold:'9K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Deni Saputra',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓'],
    info:[{key:'Platform',val:'Android'},{key:'Jenis',val:'Gift Card / Credit'}],
    steps:['Masukkan nama & No HP','Bayar','Upload bukti','Kode dikirim via No HP'],
    reviews:[{name:'Deni S.',stars:5,text:'Kodenya langsung bisa dipakai!',item:'Access Lifetime',date:'09 Feb'}],
  },
  'steam-wallet': {
    id:'steam-wallet', name:'Simontok 69 App', cat:'VideoStreaming',
    shortDesc:'Streaming video dewasa terlengkap dengan kualitas HD premium — ribuan konten eksklusif yang bisa diakses kapan saja.',
    shortDesc2:'Koleksi konten terus diperbarui setiap minggu, tersedia subtitle Indonesia.',
    img:'https://ik.imagekit.io/Mediadigtalstore/70db671846658.jpg?updatedAt=1754121143007',
    badge:'sale', rating:4.7, sold:'6K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Reza Gunawan',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓'],
    info:[{key:'Platform',val:'PC & Mobile'},{key:'Region',val:'Indonesia'}],
    steps:['Masukkan nama & No HP','Bayar','Upload bukti','Kode wallet dikirim ke No HP'],
    reviews:[{name:'Reza G.',stars:5,text:'Kodenya bisa langsung redeem!',item:'Access Lifetime',date:'12 Feb'}],
  },
  'ebook-bisnis': {
    id:'ebook-bisnis', name:'E-Book Bisnis Digital', cat:'E-Book',
    shortDesc:'Panduan bisnis digital paling lengkap dan praktis — dari nol hingga menghasilkan omzet nyata.',
    shortDesc2:'250+ halaman, bahasa Indonesia, disertai studi kasus nyata dan template siap pakai.',
    img:'https://placehold.co/200x200/0e2d0e/f5c842?text=E-Book',
    badge:'new', rating:4.8, sold:'3K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama Lengkap',placeholder:'Contoh: Hendra W.',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Link siap dikirim'],
    info:[{key:'Format',val:'PDF (offline)'},{key:'Bahasa',val:'Indonesia'},{key:'Update',val:'Gratis selamanya'}],
    steps:['Isi nama & No HP','Bayar','Upload bukti','Link download dikirim ke No HP'],
    reviews:[{name:'Linda K.',stars:5,text:'Kontennya berkualitas, langsung bisa dipraktikkan!',item:'Access Lifetime',date:'14 Feb'}],
  },
  'kursus-digital-marketing': {
    id:'kursus-digital-marketing', name:'Kursus Digital Marketing', cat:'E-Book',
    shortDesc:'Kursus online digital marketing bersertifikat — kuasai SEO, social media, dan iklan digital dari para praktisi.',
    shortDesc2:'30+ modul video HD, akses seumur hidup, sertifikat resmi yang diakui industri.',
    img:'https://placehold.co/200x200/1a0e3f/a89dff?text=Kursus+DM',
    badge:'hot', rating:4.9, sold:'5K+',
    formTitle:'Data Pendaftaran Kursus',
    fields:[{key:'name',label:'Nama Peserta',placeholder:'Contoh: Anisa Rahman',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap didaftarkan'],
    info:[{key:'Format',val:'Video Online + PDF'},{key:'Sertifikat',val:'Ya (Termasuk)'},{key:'Akses',val:'Seumur Hidup'}],
    steps:['Isi data pendaftaran','Bayar','Upload bukti','Akses kursus dikirim ke No HP'],
    reviews:[{name:'Ferdi C.',stars:5,text:'Materi up-to-date, instrukturnya keren!',item:'Access Lifetime',date:'13 Feb'}],
  },
  'canva-templates': {
    id:'canva-templates', name:'Movie69 VIP Pro', cat:'VideoStreaming',
    shortDesc:'Streaming film dan serial VIP premium terlengkap — ribuan judul dari berbagai genre, subtitle Indonesia, Full HD.',
    shortDesc2:'Update film terbaru setiap minggu, resolusi hingga 4K, tanpa iklan sama sekali.',
    img:'https://ik.imagekit.io/Mediadigtalstore/Salinan%20dari%20MEDIA%20ASUPAN69%20store%20(1024%20x%201024%20piksel)%20(1024%20x%201024%20piksel)_20251226_060600_0000.png?updatedAt=1766705945607',
    badge:'hot', rating:4.9, sold:'7K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama',placeholder:'Contoh: Bima Sakti',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓','Siap dikirim'],
    info:[{key:'Format',val:'Canva / PNG / PDF'},{key:'Kategori',val:'Sosmed, Presentasi, Flyer'},{key:'Editable',val:'Ya, 100%'}],
    steps:['Isi nama & No HP','Bayar','Upload bukti','Template dikirim ke No HP'],
    reviews:[{name:'Nita W.',stars:5,text:'Desainnya kece semua, langsung bisa pakai!',item:'Access Lifetime',date:'15 Feb'}],
  },
  'figma-ui-kit': {
    id:'figma-ui-kit', name:'Figma UI Kit Premium', cat:'Template',
    shortDesc:'300+ komponen UI siap pakai & editable — percepat desain produk digital kamu hingga 10x lebih cepat.',
    shortDesc2:'Mendukung auto-layout, dark/light mode, dan kompatibel dengan Figma terbaru.',
    img:'https://placehold.co/200x200/1a1535/a89dff?text=Figma',
    badge:'new', rating:4.8, sold:'1K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama',placeholder:'Contoh: Dian Permata',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓'],
    info:[{key:'Format',val:'Figma (.fig)'},{key:'Komponen',val:'300+ komponen'},{key:'Update',val:'Gratis seumur hidup'}],
    steps:['Isi nama & No HP','Bayar','Upload bukti','Link Figma dikirim ke No HP'],
    reviews:[{name:'Kevin A.',stars:5,text:'Komponen lengkap, auto-layout responsive!',item:'Access Lifetime',date:'9 Feb'}],
  },
  'ppt-templates': {
    id:'ppt-templates', name:'PowerPoint Business Templates', cat:'Template',
    shortDesc:'Template presentasi profesional & elegant — cocok untuk pitching, laporan, dan presentasi bisnis kelas dunia.',
    shortDesc2:'50+ slide per template, fully editable, tersedia dalam format PPTX dan Google Slides.',
    img:'https://placehold.co/200x200/1e0e2d/7c6dff?text=PPT',
    badge:null, rating:4.7, sold:'3K+',
    formTitle:'Data Penerima Produk',
    fields:[{key:'name',label:'Nama',placeholder:'Contoh: Rina Cahya',type:'text'},{key:'phone',label:'No HP / WhatsApp Aktif',placeholder:'Contoh: 0812xxxx',type:'tel'}],
    verifyNames:['Data valid ✓'],
    info:[{key:'Format',val:'.pptx'},{key:'Slide',val:'50+ slide per template'},{key:'Editable',val:'Ya, sepenuhnya'}],
    steps:['Isi nama & No HP','Bayar','Upload bukti','Link download dikirim ke No HP'],
    reviews:[{name:'Rina C.',stars:5,text:'Desainnya profesional banget!',item:'Access Lifetime',date:'10 Feb'}],
  },
};

/* ════════════════════════════════════════════════════════════
   💳  PAYMENT METHODS
════════════════════════════════════════════════════════════ */
const PAYMENT_METHODS_CONFIG = [
  { id:'qris',    group:'QRIS',          name:'QRIS (Semua E-Wallet)', desc:'Scan QR — GoPay, DANA, OVO, ShopeePay, dll.', extra:'✅ Instan — langsung dikonfirmasi', emoji:'📲', type:'qris' },
  { id:'bca',     group:'Transfer Bank', name:'BCA Transfer',          desc:'Bank Central Asia',       extra:'Konfirmasi 1×24 jam', emoji:'🔵', type:'bank', bankKey:'bca'     },
  { id:'mandiri', group:'Transfer Bank', name:'Mandiri Transfer',      desc:'Bank Mandiri',             extra:'Konfirmasi 1×24 jam', emoji:'🟡', type:'bank', bankKey:'mandiri' },
  { id:'bni',     group:'Transfer Bank', name:'BNI Transfer',          desc:'Bank Negara Indonesia',    extra:'Konfirmasi 1×24 jam', emoji:'🟠', type:'bank', bankKey:'bni'     },
  { id:'bri',     group:'Transfer Bank', name:'BRI Transfer',          desc:'Bank Rakyat Indonesia',    extra:'Konfirmasi 1×24 jam', emoji:'🔵', type:'bank', bankKey:'bri'     },
  { id:'seabank', group:'Transfer Bank', name:'SeaBank Transfer',      desc:'SeaBank Indonesia',        extra:'Transfer instan gratis', emoji:'🟢', type:'bank', bankKey:'seabank' },
];

/* ════════════════════════════════════════════════════════════
   🗂️  STATE
════════════════════════════════════════════════════════════ */
let state = {
  currentProduct:  null,
  selectedDenom:   null,
  userFields:      {},
  verified:        false,
  verifiedName:    '',
  selectedPayment: null,
  appliedPromo:    null,
  uploadedFile:    null,
  orders:          [],
  wishlist:        [],
  pageStack:       ['home'],
  activeNav:       'home',
  activeFilter:    'semua',
};

/* ════════════════════════════════════════════════════════════
   💾  PERSISTENT — LocalStorage
════════════════════════════════════════════════════════════ */
const LS_ORDERS   = 'media69_orders_v2';
const LS_WISHLIST = 'media69_wishlist_v1';

function saveOrders() {
  try { localStorage.setItem(LS_ORDERS, JSON.stringify(state.orders)); }
  catch(e) { console.warn('[Media69] localStorage write failed:', e); }
}

function loadOrders() {
  try {
    const raw = localStorage.getItem(LS_ORDERS);
    if (raw) {
      const parsed = JSON.parse(raw);
      if (Array.isArray(parsed)) { state.orders = parsed; updateOrderBadge(); }
    }
  } catch(e) { console.warn('[Media69] localStorage read failed:', e); }
}

function saveWishlist() {
  try { localStorage.setItem(LS_WISHLIST, JSON.stringify(state.wishlist)); }
  catch(e) {}
}

function loadWishlist() {
  try {
    const raw = localStorage.getItem(LS_WISHLIST);
    if (raw) {
      const parsed = JSON.parse(raw);
      if (Array.isArray(parsed)) state.wishlist = parsed;
    }
  } catch(e) {}
}

/* ════════════════════════════════════════════════════════════
   🚀  INIT
════════════════════════════════════════════════════════════ */
function init() {
  loadOrders();
  loadWishlist();
  buildHeroSlider();
  buildCategoryPills();
  renderHomeGrids();
  renderFlashSale();
  initSlider();
  initTimer();
  initSearch();
  initFilterDropdown();
  startStatAnim();
  initLiveTicker();
  initUpload();
  initBackToTop();
  initPWA();
  initWAFloat();
  updateWishlistCount();
}

/* ════════════════════════════════════════════════════════════
   🎞️  BUILD HERO SLIDER (Dynamic from CONFIG.slides)
════════════════════════════════════════════════════════════ */
function buildHeroSlider() {
  const track  = document.getElementById('slidesTrack');
  const dotsEl = document.getElementById('sliderDots');
  if (!track || !dotsEl) return;

  const arrowSvg = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg>`;

  track.innerHTML = CONFIG.slides.map(s => {
    const glowStyle  = `background:radial-gradient(ellipse,${s.glowColor} 0%,transparent 65%)`;
    const bgStyle    = s.bgImg ? `style="background-image:url('${s.bgImg}')"` : '';
    const iconHtml   = s.iconUrl
      ? `<div class="slide-deco" aria-hidden="true"><img src="${s.iconUrl}" alt="" loading="lazy"/></div>`
      : `<div class="slide-deco-emoji" aria-hidden="true">${s.iconEmoji}</div>`;
    return `<div class="slide ${s.bg}" ${bgStyle}>
      <div class="slide-bg-overlay" aria-hidden="true"></div>
      <div class="slide-glow" style="${glowStyle}" aria-hidden="true"></div>
      ${iconHtml}
      <div class="slide-content">
        <div class="slide-badge">${s.badge}</div>
        <h2 class="slide-title">${s.title}</h2>
        <p class="slide-sub">${s.sub}</p>
        <button class="slide-cta" onclick="openProduct('${s.ctaTarget}')" type="button">
          ${s.cta} ${arrowSvg}
        </button>
      </div>
    </div>`;
  }).join('');

  dotsEl.innerHTML = CONFIG.slides.map((s, i) =>
    `<button class="dot${i===0?' active':''}" data-idx="${i}" aria-label="Slide ${i+1}" type="button"></button>`
  ).join('');

  /* Slider arrows */
  const prevBtn = document.getElementById('sliderPrev');
  const nextBtn = document.getElementById('sliderNext');
  if (prevBtn) prevBtn.addEventListener('click', () => {
    clearInterval(sliderTimer);
    goSlide(sliderCurrent - 1);
    sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500);
  });
  if (nextBtn) nextBtn.addEventListener('click', () => {
    clearInterval(sliderTimer);
    goSlide(sliderCurrent + 1);
    sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500);
  });
}

/* ════════════════════════════════════════════════════════════
   🏷️  CATEGORY PILLS
════════════════════════════════════════════════════════════ */
const CATEGORY_PILLS = [
  { id:'semua',    label:'🏠 Semua'           },
  { id:'populer',  label:'🔥 Populer'         },
  { id:'software', label:'📡 Live Streaming'  },
  { id:'voucher',  label:'🎬 Video Streaming' },
  { id:'ebook',    label:'📚 E-Book & Kursus' },
  { id:'template', label:'🎨 Template'        },
];

function buildCategoryPills() {
  const wrap = document.getElementById('categoryPills');
  if (!wrap) return;
  wrap.innerHTML = CATEGORY_PILLS.map((c, i) =>
    `<button class="cat-pill${i===0?' active':''}" data-cat="${c.id}"
      onclick="setCategoryPill('${c.id}',this)" type="button" aria-pressed="${i===0}"
      aria-label="Filter: ${c.label}">${c.label}</button>`
  ).join('');
}

function setCategoryPill(catId, el) {
  document.querySelectorAll('.cat-pill').forEach(b => { b.classList.remove('active'); b.setAttribute('aria-pressed','false'); });
  if (el) { el.classList.add('active'); el.setAttribute('aria-pressed','true'); }
  applyFilter(catId, document.querySelector(`.filter-dd-item[data-tab="${catId}"]`));
}

/* ════════════════════════════════════════════════════════════
   🏠  HOME GRIDS
════════════════════════════════════════════════════════════ */
function renderHomeGrids() {
  const populer  = ['microsoft-office','spotify-premium','canva-templates'];
  const software = ['microsoft-office','windows-11','nordvpn','kaspersky','adobe-cc'];
  const voucher  = ['spotify-premium','google-play','steam-wallet'];
  const ebook    = ['ebook-bisnis','kursus-digital-marketing'];
  const template = ['canva-templates','figma-ui-kit','ppt-templates'];

  renderGameGrid('grid-populer',   populer.slice(0,3));
  renderGameGrid('grid-populer2',  populer);
  renderGameGrid('grid-software',  software.slice(0,3));
  renderGameGrid('grid-software2', software);
  renderGameGrid('grid-voucher',   voucher);
  renderGameGrid('grid-voucher2',  voucher);
  renderPulsaGrid('grid-ebook',    ebook);
  renderPulsaGrid('grid-ebook2',   ebook);
  renderGameGrid('grid-template',  template);
  renderGameGrid('grid-template2', template);
}

function renderGameGrid(id, ids) {
  const el = document.getElementById(id); if (!el) return;
  el.innerHTML = ids.map((pid, i) => {
    const p  = PRODUCTS[pid]; if (!p) return '';
    const lp = CONFIG.lifetimePrices[pid];
    const isWishlisted = state.wishlist.includes(pid);
    const badge = p.badge === 'hot'  ? '<span class="badge-hot">Hot</span>'
                : p.badge === 'new'  ? '<span class="badge-new">New</span>'
                : p.badge === 'sale' ? '<span class="badge-sale">Sale</span>' : '';
    const priceHTML = lp ? `<div class="game-price-row">
      <span class="game-price">${fmt(lp.price)}</span>
      ${lp.original ? `<span class="game-orig">${fmt(lp.original)}</span>` : ''}
    </div>` : '';
    const desc2HTML = p.shortDesc2 ? `<span class="game-desc-p2">${p.shortDesc2}</span>` : '';
    return `<article class="game-card" onclick="openProduct('${pid}')" style="animation-delay:${i*.04}s" role="button" tabindex="0" aria-label="${p.name}">
      <button class="wishlist-btn${isWishlisted?' wishlisted':''}" onclick="toggleWishlist(event,'${pid}')" type="button" aria-label="${isWishlisted?'Hapus dari':'Tambah ke'} wishlist">
        <svg viewBox="0 0 24 24" fill="${isWishlisted?'currentColor':'none'}" stroke="currentColor" stroke-width="2" width="16" height="16" aria-hidden="true">
          <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
        </svg>
      </button>
      <div class="game-img-wrap">
        <img src="${p.img}" alt="${p.name}" loading="lazy" width="200" height="200"/>
        ${badge}
      </div>
      <div class="game-card-info">
        <span class="game-name">${p.name}</span>
        <span class="game-desc-p1">${p.shortDesc || p.cat}</span>
        ${desc2HTML}
        ${priceHTML}
      </div>
    </article>`;
  }).join('');
}

function renderPulsaGrid(id, ids) {
  const el = document.getElementById(id); if (!el) return;
  el.innerHTML = ids.map(pid => {
    const p  = PRODUCTS[pid]; if (!p) return '';
    const lp = CONFIG.lifetimePrices[pid];
    return `<div class="op-card" onclick="openProduct('${pid}')" role="button" tabindex="0" aria-label="${p.name}">
      <div class="op-icon-wrap"><img src="${p.img}" alt="${p.name}" loading="lazy" width="50" height="50" style="width:50px;height:50px;border-radius:8px;object-fit:cover"/></div>
      <div class="op-name">${p.name}</div>
      <div class="op-desc">${lp ? fmt(lp.price) : p.cat}</div>
    </div>`;
  }).join('');
}

/* ════════════════════════════════════════════════════════════
   ⚡  FLASH SALE
════════════════════════════════════════════════════════════ */
function renderFlashSale() {
  const el = document.getElementById('flashGrid'); if (!el) return;
  el.innerHTML = CONFIG.flashItems.map(item =>
    `<article class="flash-card" onclick="openProduct('${item.link}')" role="button" tabindex="0" aria-label="${item.name}">
      <div class="ribbon" aria-hidden="true">${item.disc}</div>
      <div class="flash-img-wrap">
        <img src="${item.img}" alt="${item.name}" loading="lazy" width="74" height="74"/>
      </div>
      <div class="flash-info">
        <div class="flash-name">${item.name}</div>
        <div class="flash-subtitle">${item.sub}</div>
        <div class="flash-price-row">
          <span class="flash-price">Rp${item.price.toLocaleString('id-ID')}</span>
          <span class="flash-orig">Rp${item.orig.toLocaleString('id-ID')}</span>
        </div>
        <button class="flash-cta" type="button">🛒 Checkout</button>
      </div>
    </article>`
  ).join('');
}

/* ════════════════════════════════════════════════════════════
   🎞️  SLIDER
════════════════════════════════════════════════════════════ */
let sliderCurrent = 0, sliderTimer;
const SLIDE_COUNT = () => CONFIG.slides.length;

function initSlider() {
  const dotsEl = document.getElementById('sliderDots');
  if (dotsEl) {
    dotsEl.querySelectorAll('.dot').forEach(d => d.addEventListener('click', () => {
      clearInterval(sliderTimer);
      goSlide(+d.dataset.idx);
      sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500);
    }));
  }
  const sl = document.getElementById('heroSlider'); if (!sl) return;

  /* Touch/swipe */
  let tx = 0;
  sl.addEventListener('touchstart', e => { tx = e.touches[0].clientX; }, { passive:true });
  sl.addEventListener('touchend', e => {
    const diff = tx - e.changedTouches[0].clientX;
    if (Math.abs(diff) > 40) {
      clearInterval(sliderTimer);
      goSlide(sliderCurrent + (diff > 0 ? 1 : -1));
      sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500);
    }
  });

  /* Pause on hover */
  sl.addEventListener('mouseenter', () => clearInterval(sliderTimer));
  sl.addEventListener('mouseleave', () => { sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500); });

  sliderTimer = setInterval(() => goSlide(sliderCurrent + 1), 4500);
}

function goSlide(idx) {
  sliderCurrent = ((idx % SLIDE_COUNT()) + SLIDE_COUNT()) % SLIDE_COUNT();
  const tr = document.getElementById('slidesTrack');
  if (tr) tr.style.transform = `translateX(-${sliderCurrent * 100}%)`;
  document.querySelectorAll('#sliderDots .dot').forEach((d, i) => d.classList.toggle('active', i === sliderCurrent));
}

/* ════════════════════════════════════════════════════════════
   ⏱️  FLASH SALE TIMER
════════════════════════════════════════════════════════════ */
let timerInterval;
function initTimer() {
  const DURATION = (2 * 3600 + 34 * 60 + 18) * 1000;
  let end = Date.now() + DURATION;
  function tick() {
    const rem = Math.max(0, Math.floor((end - Date.now()) / 1000));
    const h = document.getElementById('th');
    const m = document.getElementById('tm');
    const s = document.getElementById('ts');
    if (!h || !m || !s) { clearInterval(timerInterval); return; }
    h.textContent = String(Math.floor(rem / 3600)).padStart(2, '0');
    m.textContent = String(Math.floor((rem % 3600) / 60)).padStart(2, '0');
    s.textContent = String(rem % 60).padStart(2, '0');
    if (rem === 0) end = Date.now() + DURATION;
  }
  tick();
  timerInterval = setInterval(tick, 1000);
}

/* ════════════════════════════════════════════════════════════
   📊  STAT ANIMATION
════════════════════════════════════════════════════════════ */
let statInterval;
function startStatAnim() {
  let n = 1200;
  statInterval = setInterval(() => {
    n += Math.floor(Math.random() * 3);
    const el = document.getElementById('statTrx');
    if (el) el.textContent = (n / 1000).toFixed(1) + 'K';
  }, 3000);
}

/* ════════════════════════════════════════════════════════════
   🔍  SEARCH
════════════════════════════════════════════════════════════ */
function initSearch() {
  const input   = document.getElementById('searchInput');
  const results = document.getElementById('searchResults');
  const clearBtn = document.getElementById('searchClearBtn');
  if (!input || !results) return;

  input.addEventListener('input', function() {
    const q = this.value.toLowerCase().trim();
    if (clearBtn) clearBtn.style.display = q ? 'flex' : 'none';
    if (!q) { results.classList.remove('show'); return; }
    const found = Object.values(PRODUCTS).filter(p =>
      p.name.toLowerCase().includes(q) ||
      p.cat.toLowerCase().includes(q) ||
      (p.shortDesc || '').toLowerCase().includes(q)
    ).slice(0, 6);
    if (!found.length) { results.classList.remove('show'); return; }
    results.innerHTML = found.map(p =>
      `<div class="search-item" onclick="openProduct('${p.id}');clearSearch()" role="option" aria-label="${p.name}">
        <img src="${p.img}" alt="${p.name}" loading="lazy" width="38" height="38"/>
        <div><div class="si-name">${p.name}</div><div class="si-cat">${p.cat}</div></div>
      </div>`
    ).join('');
    results.classList.add('show');
  });

  if (clearBtn) {
    clearBtn.addEventListener('click', () => { clearSearch(); input.focus(); });
  }

  document.addEventListener('click', e => {
    if (!e.target.closest('.search-container')) results.classList.remove('show');
  });
}

function clearSearch() {
  const i = document.getElementById('searchInput');
  const r = document.getElementById('searchResults');
  const c = document.getElementById('searchClearBtn');
  if (i) i.value = '';
  if (r) r.classList.remove('show');
  if (c) c.style.display = 'none';
}

/* ════════════════════════════════════════════════════════════
   🔔  LIVE BUY TICKER
════════════════════════════════════════════════════════════ */
const TICKER_NAMES    = ['Budi S.','Rina A.','Dani F.','Siti R.','Ahmad P.','Lina K.','Rizky M.','Dewi L.','Farhan T.','Nadia P.','Kevin A.','Maya S.','Andi W.','Yuli D.','Bagas K.'];
const TICKER_PRODUCTS = Object.values(PRODUCTS);
const TICKER_TIMES    = ['baru saja','1 mnt lalu','2 mnt lalu','3 mnt lalu','5 mnt lalu','7 mnt lalu'];
let tickerTimer;
let notifCount = 0;

function initLiveTicker() {
  const track = document.getElementById('tickerTrack'); if (!track) return;
  setTimeout(() => addNotifCard(track, true), 200);
  function scheduleNext() {
    tickerTimer = setTimeout(() => { addNotifCard(track, false); scheduleNext(); }, 1000 + Math.random() * 2200);
  }
  setTimeout(scheduleNext, 1200);
}

function addNotifCard(track, initial) {
  notifCount++;
  const counterEl = document.getElementById('notifCounter');
  if (counterEl) counterEl.textContent = notifCount + ' transaksi';

  const name     = TICKER_NAMES[Math.floor(Math.random() * TICKER_NAMES.length)];
  const p        = TICKER_PRODUCTS[Math.floor(Math.random() * TICKER_PRODUCTS.length)];
  const lp       = CONFIG.lifetimePrices[p.id];
  const time     = initial ? TICKER_TIMES[Math.floor(Math.random() * TICKER_TIMES.length)] : 'baru saja';
  const initials = name.slice(0, 1).toUpperCase();
  const colors   = ['#9069e9','#ff006e','#00d4aa','#f5c518','#da69d3'];
  const color    = colors[Math.floor(Math.random() * colors.length)];

  const card = document.createElement('div');
  card.className = 'notif-card';
  card.innerHTML = `
    <div class="notif-avatar" style="background:linear-gradient(135deg,${color},${color}88)" aria-hidden="true">${initials}</div>
    <div class="notif-info">
      <div class="notif-name">${name} <span class="notif-action">membeli</span> ${p.name}</div>
      <div class="notif-time">${time} &middot; ${p.cat}</div>
    </div>
    <div class="notif-price">${lp ? fmt(lp.price) : '—'}</div>`;

  if (!initial) {
    track.insertBefore(card, track.firstChild);
  } else {
    track.appendChild(card);
  }

  const cards = track.querySelectorAll('.notif-card:not(.exit)');
  if (cards.length > 1) {
    const oldest = cards[cards.length - 1];
    oldest.classList.add('exit');
    setTimeout(() => oldest.remove(), 400);
  }
}

/* ════════════════════════════════════════════════════════════
   🔽  FILTER DROPDOWN
════════════════════════════════════════════════════════════ */
const FILTER_TABS = [
  { tab:'semua',    label:'Semua Asupan',   icon:'🏠' },
  { tab:'populer',  label:'🔥 Populer',     icon:'🔥' },
  { tab:'software', label:'Live Streaming', icon:'📡' },
  { tab:'voucher',  label:'Video Streaming',icon:'🎬' },
  { tab:'ebook',    label:'E-Book & Kursus',icon:'📚' },
  { tab:'template', label:'Template',       icon:'🎨' },
];

function initFilterDropdown() {
  const btn = document.getElementById('filterBtn');
  const dd  = document.getElementById('filterDropdown');
  if (!btn || !dd) return;

  dd.innerHTML = '<div class="filter-dd-header">Kategori</div>' +
    FILTER_TABS.map(t =>
      `<div class="filter-dd-item${t.tab==='semua'?' active':''}" data-tab="${t.tab}" onclick="applyFilter('${t.tab}',this)">
        <span class="filter-dd-icon">${t.icon}</span>${t.label}
      </div>`
    ).join('');

  btn.addEventListener('click', e => {
    e.stopPropagation();
    const isOpen = dd.classList.contains('show');
    dd.classList.toggle('show', !isOpen);
    btn.classList.toggle('active', !isOpen);
    btn.setAttribute('aria-expanded', String(!isOpen));
  });

  document.addEventListener('click', e => {
    if (!e.target.closest('.filter-dd-wrap')) {
      dd.classList.remove('show');
      btn.classList.remove('active');
      btn.setAttribute('aria-expanded', 'false');
    }
  });
}

function applyFilter(tabName, el) {
  document.querySelectorAll('.filter-dd-item').forEach(i => i.classList.remove('active'));
  if (el) el.classList.add('active');
  const btn = document.getElementById('filterBtn');
  if (btn) btn.classList.toggle('filtered', tabName !== 'semua');
  document.getElementById('filterDropdown')?.classList.remove('show');
  btn?.classList.remove('active');
  btn?.setAttribute('aria-expanded', 'false');

  /* Sync category pills */
  document.querySelectorAll('.cat-pill').forEach(b => {
    const isActive = b.dataset.cat === tabName;
    b.classList.toggle('active', isActive);
    b.setAttribute('aria-pressed', String(isActive));
  });

  switchTab(tabName);
  state.activeFilter = tabName;
}

function switchTab(name) {
  document.querySelectorAll('[id^="tab-"]').forEach(c => c.classList.remove('active'));
  const el = document.getElementById('tab-' + name);
  if (el) el.classList.add('active');
}

/* ════════════════════════════════════════════════════════════
   ⬆️  BACK-TO-TOP
════════════════════════════════════════════════════════════ */
function initBackToTop() {
  const btn = document.getElementById('backToTop'); if (!btn) return;
  window.addEventListener('scroll', () => {
    btn.classList.toggle('show', window.scrollY > 400);
  }, { passive:true });
  btn.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));
}

/* ════════════════════════════════════════════════════════════
   ❤️  WISHLIST
════════════════════════════════════════════════════════════ */
function toggleWishlist(e, pid) {
  if (e) e.stopPropagation();
  const idx = state.wishlist.indexOf(pid);
  if (idx === -1) {
    state.wishlist.push(pid);
    showToast('Ditambahkan ke wishlist! ❤️', '❤️');
  } else {
    state.wishlist.splice(idx, 1);
    showToast('Dihapus dari wishlist', '💔');
  }
  saveWishlist();
  updateWishlistCount();

  /* Update all wishlist buttons for this product */
  document.querySelectorAll(`.wishlist-btn`).forEach(btn => {
    const card = btn.closest('[aria-label]');
    if (!card) return;
    const onClick = btn.getAttribute('onclick') || '';
    if (onClick.includes(`'${pid}'`)) {
      const isWishlisted = state.wishlist.includes(pid);
      btn.classList.toggle('wishlisted', isWishlisted);
      const svg = btn.querySelector('svg');
      if (svg) svg.setAttribute('fill', isWishlisted ? 'currentColor' : 'none');
      btn.setAttribute('aria-label', (isWishlisted ? 'Hapus dari' : 'Tambah ke') + ' wishlist');
    }
  });

  /* Update product detail wishlist button if open */
  const detailBtn = document.getElementById('productWishlistBtn');
  if (detailBtn && state.currentProduct && state.currentProduct.id === pid) {
    const isWl = state.wishlist.includes(pid);
    detailBtn.classList.toggle('wishlisted', isWl);
    detailBtn.setAttribute('aria-label', (isWl ? 'Hapus dari' : 'Tambah ke') + ' wishlist');
    const svg = detailBtn.querySelector('svg');
    if (svg) svg.setAttribute('fill', isWl ? 'currentColor' : 'none');
  }

  /* Re-render wishlist page if active */
  if (document.getElementById('page-wishlist')?.classList.contains('active')) {
    renderWishlistPage();
  }
}

function toggleWishlistProduct() {
  if (!state.currentProduct) return;
  toggleWishlist(null, state.currentProduct.id);
}

function updateWishlistCount() {
  const count = state.wishlist.length;
  document.querySelectorAll('.wishlist-count-badge').forEach(el => {
    el.style.display = count > 0 ? 'flex' : 'none';
    el.textContent   = count > 99 ? '99+' : count;
  });
}

function renderWishlistPage() {
  const grid = document.getElementById('wishlistGrid');
  const empty = document.getElementById('wishlistEmpty');
  if (!grid) return;
  if (!state.wishlist.length) {
    grid.innerHTML = '';
    if (empty) empty.style.display = 'flex';
    return;
  }
  if (empty) empty.style.display = 'none';
  grid.innerHTML = '';
  renderGameGrid('wishlistGrid', state.wishlist);
}

function clearWishlist() {
  state.wishlist = [];
  saveWishlist();
  updateWishlistCount();
  renderWishlistPage();
  showToast('Wishlist dikosongkan', '🗑️');
}

function openWishlistPage() {
  renderWishlistPage();
  navigateTo('wishlist');
}

/* ════════════════════════════════════════════════════════════
   📱  PAGE NAVIGATION
════════════════════════════════════════════════════════════ */
function showPage(name, navEl) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active', 'back'));
  const page = document.getElementById('page-' + name);
  if (page) { page.classList.add('active'); window.scrollTo(0, 0); }

  const nav = document.getElementById('globalNav');
  const mainPages = ['home','info','cs','pesanan','akun'];
  if (mainPages.includes(name)) {
    if (nav) nav.style.display = 'flex';
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const activeNavEl = document.getElementById('nav-' + name);
    if (activeNavEl) activeNavEl.classList.add('active');
    state.activeNav  = name;
    state.pageStack  = [name];
  } else {
    if (nav) nav.style.display = 'none';
    state.pageStack.push(name);
  }
  if (name === 'orders')   renderOrders('all');
  if (name === 'wishlist') renderWishlistPage();
}

function navigateTo(name) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active', 'back'));
  const page = document.getElementById('page-' + name);
  if (page) { page.classList.add('active'); window.scrollTo(0, 0); }
  const nav = document.getElementById('globalNav');
  if (nav) nav.style.display = 'none';
  state.pageStack.push(name);
  if (name === 'wishlist') renderWishlistPage();
}

function goBack() {
  if (state.pageStack.length > 1) {
    state.pageStack.pop();
    const prev = state.pageStack[state.pageStack.length - 1];
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active', 'back'));
    const page = document.getElementById('page-' + prev);
    if (page) {
      page.classList.add('active', 'back');
      window.scrollTo(0, 0);
      setTimeout(() => page.classList.remove('back'), 300);
    }
    const nav = document.getElementById('globalNav');
    const mainPages = ['home','info','cs','pesanan','akun'];
    if (nav) nav.style.display = mainPages.includes(prev) ? 'flex' : 'none';
  } else {
    showPage('home');
  }
}

function showOrdersPage() {
  renderOrders('all');
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active', 'back'));
  const page = document.getElementById('page-orders');
  if (page) { page.classList.add('active'); window.scrollTo(0, 0); }
  const nav = document.getElementById('globalNav');
  if (nav) nav.style.display = 'none';
  state.pageStack.push('orders');
}

/* ════════════════════════════════════════════════════════════
   🛍️  PRODUCT DETAIL
════════════════════════════════════════════════════════════ */
function openProduct(pid) {
  clearSearch();
  const p = PRODUCTS[pid];
  if (!p) { showToast('Produk tidak ditemukan', '⚠️'); return; }

  state.currentProduct = p;
  state.selectedDenom  = null;
  state.verified       = false;
  state.userFields     = {};

  const heroImg = document.getElementById('productHeroImg');
  if (heroImg) { heroImg.src = p.img; heroImg.alt = p.name; }

  const elMap = {
    productBackTitle: p.name,
    productTitleLg:   p.name,
    productCat:       p.cat,
  };
  Object.entries(elMap).forEach(([id, val]) => {
    const el = document.getElementById(id); if (el) el.textContent = val;
  });

  const mt = document.getElementById('productMeta');
  if (mt) mt.innerHTML = `<span>⭐ ${p.rating}</span><span aria-hidden="true">•</span><span>🛒 ${p.sold} terjual</span>`;

  const ft = document.getElementById('formTitle'); if (ft) ft.textContent = p.formTitle;
  renderFormFields(p.fields);

  const vBtn = document.getElementById('verifyBtn');
  if (vBtn) { vBtn.textContent = '📱 Konfirmasi Data'; vBtn.style.display = 'flex'; vBtn.disabled = false; }
  const vtag = document.getElementById('verifiedTag'); if (vtag) vtag.style.display = 'none';

  /* Wishlist button state */
  const wlBtn = document.getElementById('productWishlistBtn');
  if (wlBtn) {
    const isWl = state.wishlist.includes(pid);
    wlBtn.classList.toggle('wishlisted', isWl);
    wlBtn.setAttribute('aria-label', (isWl ? 'Hapus dari' : 'Tambah ke') + ' wishlist');
    const svg = wlBtn.querySelector('svg');
    if (svg) svg.setAttribute('fill', isWl ? 'currentColor' : 'none');
  }

  renderDenominations();
  renderInfoTabs(p);

  const bp = document.getElementById('buyPrice'); if (bp) bp.textContent = 'Pilih paket';
  const bb = document.getElementById('buyBtn');   if (bb) bb.disabled = true;

  document.querySelectorAll('.pi-tab').forEach((t, i) => { t.classList.toggle('active', i === 0); t.setAttribute('aria-selected', String(i === 0)); });
  document.querySelectorAll('.pi-content').forEach((c, i) => c.classList.toggle('active', i === 0));

  navigateTo('product');
}

function renderFormFields(fields) {
  const container = document.getElementById('formFields'); if (!container) return;
  container.innerHTML = fields.map(f => {
    if (f.type === 'select') {
      return `<div class="input-group">
        <label class="input-label" for="field-${f.key}">${f.label}</label>
        <select class="input-field" id="field-${f.key}" onchange="updateField('${f.key}',this.value)">
          <option value="">Pilih...</option>
          ${(f.options || []).map(o => `<option>${o}</option>`).join('')}
        </select>
      </div>`;
    }
    return `<div class="input-group">
      <label class="input-label" for="field-${f.key}">${f.label}</label>
      <input class="input-field" type="${f.type}" id="field-${f.key}"
             placeholder="${f.placeholder || ''}"
             oninput="updateField('${f.key}',this.value)"
             autocomplete="off"
             ${f.type === 'tel' ? 'inputmode="numeric" pattern="[0-9]*"' : ''}/>
    </div>`;
  }).join('');
}

function updateField(key, val) {
  state.userFields[key] = val;
  state.verified = false;
  const tag = document.getElementById('verifiedTag'); if (tag) tag.style.display = 'none';
  const btn = document.getElementById('verifyBtn');
  if (btn) { btn.textContent = '📱 Konfirmasi Data'; btn.style.display = 'flex'; btn.disabled = false; }
  updateBuyBtn();
}

function verifyUser() {
  const p = state.currentProduct; if (!p) return;
  const keys = p.fields.map(f => f.key);
  for (const k of keys) {
    if (!state.userFields[k] || !state.userFields[k].trim()) {
      showToast('Lengkapi semua data terlebih dahulu', '⚠️'); return;
    }
  }
  const phoneKey = keys.find(k => k === 'phone');
  if (phoneKey) {
    const phone = state.userFields[phoneKey].replace(/\s/g, '');
    if (!/^(08|\+628|628)\d{7,13}$/.test(phone)) {
      showToast('Masukkan No HP yang valid (contoh: 0812xxxx)', '⚠️'); return;
    }
  }
  const btn = document.getElementById('verifyBtn'); if (!btn) return;
  btn.textContent = '🔄 Memverifikasi…'; btn.disabled = true;
  setTimeout(() => {
    const name = p.verifyNames[Math.floor(Math.random() * p.verifyNames.length)];
    state.verified     = true;
    state.verifiedName = state.userFields['phone'] || state.userFields['name'] || name;
    btn.style.display  = 'none';
    const tag = document.getElementById('verifiedTag');
    const vn  = document.getElementById('verifiedName');
    if (vn)  vn.textContent = '✅ ' + state.verifiedName;
    if (tag) tag.style.display = 'flex';
    showToast('Terverifikasi: ' + state.verifiedName, '✅');
    updateBuyBtn();
  }, 1200);
}

function renderDenominations() {
  const p    = state.currentProduct;
  const lp   = CONFIG.lifetimePrices[p.id];
  const grid = document.getElementById('denomGrid'); if (!grid) return;
  if (!lp) { grid.innerHTML = '<p style="color:var(--text3);font-size:13px">Harga tidak tersedia.</p>'; return; }
  const disc = lp.original ? Math.round((1 - lp.price / lp.original) * 100) : null;
  const denom = {
    id: p.id + '-lifetime', icon:'♾️', amount:'Access Lifetime',
    desc:'Akses seumur hidup — termasuk semua update gratis',
    price: lp.price, originalPrice: lp.original, popular: true,
  };
  grid.innerHTML = `<div class="denom-grid-single">
    <div class="denom-card selected" id="denom-${denom.id}" onclick="selectDenom()" role="radio" aria-checked="true" tabindex="0">
      ${denom.popular ? '<div class="denom-popular">TERLARIS</div>' : ''}
      <div class="denom-icon" aria-hidden="true">${denom.icon}</div>
      <div class="denom-body">
        <div class="denom-amount">${denom.amount}</div>
        <div class="denom-desc">${denom.desc}</div>
        <div class="denom-price-row">
          <div class="denom-price">${fmt(denom.price)}</div>
          ${denom.originalPrice ? `<div class="denom-orig">${fmt(denom.originalPrice)}</div>` : ''}
          ${disc ? `<div class="denom-disc">-${disc}%</div>` : ''}
        </div>
      </div>
    </div>
  </div>`;
  state.selectedDenom = denom;
  const bp = document.getElementById('buyPrice'); if (bp) bp.textContent = fmt(denom.price);
  updateBuyBtn();
}

function selectDenom() { /* single denom — always selected */ }

function updateBuyBtn() {
  const bb = document.getElementById('buyBtn');
  if (bb) bb.disabled = !(state.verified && state.selectedDenom);
}

/* ════════════════════════════════════════════════════════════
   📋  INFO TABS
════════════════════════════════════════════════════════════ */
function renderInfoTabs(p) {
  const lp   = CONFIG.lifetimePrices[p.id];
  const disc = lp && lp.original ? Math.round((1 - lp.price / lp.original) * 100) : null;

  const infoBlock = `
    <div class="info-desc-block">
      <p>${p.shortDesc || ''}</p>
      ${p.shortDesc2 ? `<p>${p.shortDesc2}</p>` : ''}
      <p>Produk ini hadir dengan paket <strong>Access Lifetime</strong> — sekali bayar, akses penuh seumur hidup termasuk semua update gratis.</p>
      <p>Pengiriman langsung ke <strong>nomor WhatsApp</strong> aktif kamu dalam 1–5 menit setelah pembayaran dikonfirmasi admin.</p>
    </div>
    ${lp ? `<div class="info-price-card">
      <div class="ipc-label">Harga Spesial</div>
      <div class="ipc-price">${fmt(lp.price)}</div>
      ${lp.original ? `<div class="ipc-orig">${fmt(lp.original)}</div>` : ''}
      ${disc ? `<div class="ipc-disc">Hemat ${disc}% OFF</div>` : ''}
    </div>` : ''}
    <div class="info-list">${p.info.map(r =>
      `<div class="info-row">
        <span class="info-key">${r.key}</span>
        <span class="info-val">${r.val}</span>
      </div>`
    ).join('')}</div>`;

  const piInfo = document.getElementById('piInfoContent');
  if (piInfo) piInfo.innerHTML = infoBlock;

  /* ── Tab: Tampilan Aplikasi ── */
  const videoUrl = CONFIG.caraBeli.videoUrl;
  let videoBlock = '';

  if (videoUrl) {
    if (/\.(mp4|webm|ogg|mov)(\?.*)?$/i.test(videoUrl)) {
      videoBlock = `<div class="cara-video-wrap">
        <video controls playsinline preload="metadata" poster="">
          <source src="${videoUrl}" type="video/mp4">
          Browser kamu tidak mendukung video HTML5.
        </video>
      </div>`;
    } else if (/youtube\.com|youtu\.be/i.test(videoUrl)) {
      const ytId = videoUrl.match(/(?:v=|youtu\.be\/)([A-Za-z0-9_-]{11})/)?.[1] || '';
      videoBlock = `<div class="cara-video-wrap">
        <iframe src="https://www.youtube.com/embed/${ytId}?rel=0&playsinline=1"
          title="${CONFIG.caraBeli.videoTitle}" allow="autoplay;encrypted-media;picture-in-picture" allowfullscreen loading="lazy"></iframe>
      </div>`;
    } else {
      videoBlock = `<div class="cara-video-wrap">
        <iframe src="${videoUrl}" title="${CONFIG.caraBeli.videoTitle}"
          allow="autoplay;encrypted-media;picture-in-picture" allowfullscreen loading="lazy"></iframe>
      </div>`;
    }
  } else {
    videoBlock = `<div class="cara-video-wrap">
      <div class="cara-video-placeholder">
        <div class="cvp-icon">🎬</div>
        <div>Tampilan aplikasi produk akan segera hadir</div>
      </div>
    </div>`;
  }

  const caraHTML = videoBlock +
    `<div class="how-list">${p.steps.map((s, i) =>
      `
   
</div>
      </div>`
    ).join('')}</div>`;

  const piCara = document.getElementById('piCaraContent'); if (piCara) piCara.innerHTML = caraHTML;

  /* ── Tab: Ulasan ── */
  const piUlasan = document.getElementById('piUlasanContent');
  if (piUlasan) piUlasan.innerHTML =
    `<div class="review-list">${p.reviews.map(r =>
      `<div class="review-item">
        <div class="review-head"><div class="reviewer">${r.name}</div><div class="review-stars" aria-label="${r.stars} bintang">${'⭐'.repeat(r.stars)}</div></div>
        <div class="review-date">${r.date}</div>
        <div class="review-text">${r.text}</div>
        <div class="review-product">${r.item}</div>
      </div>`
    ).join('')}</div>`;
}

function switchPiTab(name, el) {
  document.querySelectorAll('.pi-tab').forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected', 'false'); t.setAttribute('tabindex', '-1'); });
  document.querySelectorAll('.pi-content').forEach(c => c.classList.remove('active'));
  if (el) { el.classList.add('active'); el.setAttribute('aria-selected', 'true'); el.setAttribute('tabindex', '0'); }
  const content = document.getElementById('pi-' + name);
  if (content) content.classList.add('active');
}

/* ════════════════════════════════════════════════════════════
   💰  PAYMENT PAGE
════════════════════════════════════════════════════════════ */
function goToPayment() {
  if (!state.verified || !state.selectedDenom) return;
  const p = state.currentProduct;
  const d = state.selectedDenom;

  const fieldMap = {
    osImg:    { prop:'src', val:p.img },
    osGame:   { prop:'textContent', val:p.name },
    osDenom:  { prop:'textContent', val:d.amount },
    osUid:    { prop:'textContent', val:Object.values(state.userFields).join(' • ') },
    prHarga:  { prop:'textContent', val:fmt(d.price) },
    prTotal:  { prop:'textContent', val:fmt(d.price) },
  };
  Object.entries(fieldMap).forEach(([id, {prop, val}]) => {
    const el = document.getElementById(id); if (el) el[prop] = val;
    if (id === 'osImg') { const e = document.getElementById(id); if (e) e.alt = p.name; }
  });

  document.getElementById('prDiscount')?.style && (document.getElementById('prDiscount').style.display = 'none');
  document.getElementById('promoSuccess')?.style && (document.getElementById('promoSuccess').style.display = 'none');
  const promoIn = document.getElementById('promoInput'); if (promoIn) promoIn.value = '';

  state.appliedPromo    = null;
  state.selectedPayment = null;
  state.uploadedFile    = null;

  renderPaymentMethods();
  resetUploadArea();

  document.getElementById('payInstructions')?.classList.remove('show');
  const us = document.getElementById('uploadSection'); if (us) us.style.display = 'none';
  const pb = document.getElementById('payBtn');        if (pb) pb.disabled = true;

  navigateTo('payment');
}

function renderPaymentMethods() {
  const container = document.getElementById('paymentMethodsContainer'); if (!container) return;
  const groups = {};
  PAYMENT_METHODS_CONFIG.forEach(m => { if (!groups[m.group]) groups[m.group] = []; groups[m.group].push(m); });
  container.innerHTML = Object.entries(groups).map(([group, methods]) =>
    `<div class="pm-group">
      <div class="pm-group-title">${group}</div>
      <div class="pm-list">
        ${methods.map(m =>
          `<div class="pm-item" id="pm-${m.id}" onclick="selectPayment('${m.id}')" role="radio" aria-checked="false" tabindex="0" aria-label="${m.name}">
            <div class="pm-logo" aria-hidden="true">${m.emoji}</div>
            <div class="pm-info">
              <div class="pm-name">${m.name}</div>
              <div class="pm-desc">${m.desc}</div>
              <div class="pm-extra">${m.extra}</div>
            </div>
            <div class="pm-radio" aria-hidden="true"><div class="pm-radio-dot"></div></div>
          </div>`
        ).join('')}
      </div>
    </div>`
  ).join('');
}

function selectPayment(id) {
  state.selectedPayment = id;
  document.querySelectorAll('.pm-item').forEach(el => { el.classList.remove('selected'); el.setAttribute('aria-checked', 'false'); });
  const sel = document.getElementById('pm-' + id);
  if (sel) { sel.classList.add('selected'); sel.setAttribute('aria-checked', 'true'); }
  showPaymentInstructions(id);
  const us = document.getElementById('uploadSection'); if (us) us.style.display = 'block';
  updatePayBtn();
}

function showPaymentInstructions(id) {
  const box    = document.getElementById('payInstructions'); if (!box) return;
  const method = PAYMENT_METHODS_CONFIG.find(m => m.id === id); if (!method) return;
  const total  = getCurrentTotal();

  if (method.type === 'qris') {
    box.innerHTML = `
      <div class="pi-header">
        <div class="pi-logo" aria-hidden="true">📲</div>
        <div><div class="pi-bank-name">QRIS</div><div class="pi-bank-type">Scan dengan GoPay, DANA, OVO, ShopeePay, dll.</div></div>
      </div>
      <div class="qris-box">
        <div class="qris-img">
          <img src="${CONFIG.qrisImageUrl}" alt="QRIS Code pembayaran ${fmt(total)}" width="184" height="184" loading="lazy" onerror="this.parentElement.innerHTML='📱 QR Code'"/>
        </div>
        <div class="qris-note">Scan kode QR di atas menggunakan aplikasi dompet digital kamu.</div>
      </div>
      <div class="amount-box">
        <div><div class="amount-label">Total yang harus dibayar</div><div class="amount-value">${fmt(total)}</div></div>
        <button class="copy-btn" onclick="copyText('${total}','Jumlah tersalin!')" type="button">Salin</button>
      </div>
      <div class="pi-steps"><strong>Cara bayar:</strong><br/>1. Buka aplikasi dompet digital kamu<br/>2. Scan QRIS di atas<br/>3. Masukkan nominal <strong>${fmt(total)}</strong><br/>4. Bayar &amp; screenshot bukti<br/>5. Upload bukti di bawah</div>`;
  } else {
    const bank = CONFIG.bankAccounts[method.bankKey]; if (!bank) return;
    box.innerHTML = `
      <div class="pi-header">
        <div class="pi-logo" aria-hidden="true">${bank.emoji}</div>
        <div><div class="pi-bank-name">${bank.name}</div><div class="pi-bank-type">${bank.desc}</div></div>
      </div>
      <div class="account-box">
        <div class="acc-label">Nomor Rekening</div>
        <div class="acc-number">
          <span>${bank.noRek}</span>
          <button class="copy-btn" onclick="copyText('${bank.noRek}','Rekening tersalin!')" type="button">Salin</button>
        </div>
        <div class="acc-name">a.n. ${bank.atasNama}</div>
      </div>
      <div class="amount-box">
        <div><div class="amount-label">Total transfer</div><div class="amount-value">${fmt(total)}</div><div class="amount-note">⚠️ Transfer TEPAT sesuai nominal</div></div>
        <button class="copy-btn" onclick="copyText('${total}','Jumlah tersalin!')" type="button">Salin</button>
      </div>
      <div class="pi-steps"><strong>Cara transfer:</strong><br/>1. Transfer ke rekening <strong>${bank.name}</strong> di atas<br/>2. Nominal tepat <strong>${fmt(total)}</strong><br/>3. Simpan bukti transfer<br/>4. Upload bukti di bawah<br/>5. Pesanan diproses setelah pembayaran dikonfirmasi</div>`;
  }
  box.classList.add('show');
}

/* ════════════════════════════════════════════════════════════
   🏷️  PROMO CODE
════════════════════════════════════════════════════════════ */
function applyPromo() {
  const code = document.getElementById('promoInput')?.value.trim().toUpperCase();
  if (!code) return;
  const promo = CONFIG.promoCodes[code];
  if (!promo)                     { showToast('Kode promo tidak valid!', '❌'); return; }
  if (state.appliedPromo === code) { showToast('Promo sudah digunakan!', '⚠️'); return; }
  state.appliedPromo = code;
  const d    = state.selectedDenom;
  const disc = promo.type === 'percent' ? Math.floor(d.price * promo.value / 100) : promo.value;
  const total = Math.max(0, d.price - disc);

  const prd  = document.getElementById('prDiscount');  if (prd)  prd.style.display   = 'flex';
  const prdv = document.getElementById('prDiscVal');   if (prdv) prdv.textContent     = '- ' + fmt(disc);
  const prt  = document.getElementById('prTotal');     if (prt)  prt.textContent      = fmt(total);
  const ps   = document.getElementById('promoSave');   if (ps)   ps.textContent       = fmt(disc);
  const prs  = document.getElementById('promoSuccess');if (prs)  prs.style.display    = 'flex';

  if (state.selectedPayment) showPaymentInstructions(state.selectedPayment);
  showToast('Promo ' + code + ' aktif! Hemat ' + fmt(disc), '🎉');
}

function getCurrentTotal() {
  const d = state.selectedDenom; if (!d) return 0;
  if (state.appliedPromo && CONFIG.promoCodes[state.appliedPromo]) {
    const pr   = CONFIG.promoCodes[state.appliedPromo];
    const disc = pr.type === 'percent' ? Math.floor(d.price * pr.value / 100) : pr.value;
    return Math.max(0, d.price - disc);
  }
  return d.price;
}

/* ════════════════════════════════════════════════════════════
   📎  UPLOAD BUKTI PEMBAYARAN
════════════════════════════════════════════════════════════ */
function initUpload() {
  const input = document.getElementById('uploadInput'); if (!input) return;
  input.addEventListener('change', handleFileSelect);
  const area = document.getElementById('uploadArea'); if (!area) return;
  area.addEventListener('dragover',  e => { e.preventDefault(); area.style.borderColor = 'var(--primary)'; });
  area.addEventListener('dragleave', () => { area.style.borderColor = ''; });
  area.addEventListener('drop', e => {
    e.preventDefault(); area.style.borderColor = '';
    const file = e.dataTransfer.files[0]; if (file) handleFile(file);
  });
  area.addEventListener('keydown', e => { if (e.key === 'Enter' || e.key === ' ') input.click(); });
}

function handleFileSelect(e) {
  const file = e.target.files[0]; if (file) handleFile(file);
}

function handleFile(file) {
  const allowed = ['image/jpeg','image/jpg','image/png','image/webp','image/gif'];
  if (!allowed.includes(file.type))  { showToast('Hanya file gambar (JPG, PNG, WEBP)', '⚠️'); return; }
  if (file.size > 10 * 1024 * 1024) { showToast('Ukuran file maksimal 10MB', '⚠️'); return; }
  state.uploadedFile = file;
  const area     = document.getElementById('uploadArea');
  const preview  = document.getElementById('uploadPreview');
  const filename = document.getElementById('uploadFilename');
  if (area) {
    area.classList.add('has-file');
    const ui = area.querySelector('.upload-icon'); if (ui) ui.textContent = '✅';
    const ut = area.querySelector('.upload-text'); if (ut) ut.textContent = 'Bukti berhasil dipilih!';
  }
  if (preview) {
    const reader = new FileReader();
    reader.onload = ev => { preview.src = ev.target.result; preview.classList.add('show'); };
    reader.readAsDataURL(file);
  }
  if (filename) { filename.textContent = `📎 ${file.name} (${(file.size / 1024).toFixed(0)} KB)`; filename.classList.add('show'); }
  updatePayBtn();
}

function resetUploadArea() {
  state.uploadedFile = null;
  const area     = document.getElementById('uploadArea');
  const preview  = document.getElementById('uploadPreview');
  const filename = document.getElementById('uploadFilename');
  const input    = document.getElementById('uploadInput');
  if (area) {
    area.classList.remove('has-file');
    const ui = area.querySelector('.upload-icon'); if (ui) ui.textContent = '📸';
    const ut = area.querySelector('.upload-text'); if (ut) ut.textContent = 'Tap untuk pilih / kamera';
  }
  if (preview)  { preview.classList.remove('show'); preview.src = ''; }
  if (filename) { filename.classList.remove('show'); filename.textContent = ''; }
  if (input)    input.value = '';
}

function updatePayBtn() {
  const btn = document.getElementById('payBtn');
  if (btn) btn.disabled = !(state.selectedPayment && state.uploadedFile);
}

/* ════════════════════════════════════════════════════════════
   📤  SEND TO TELEGRAM
════════════════════════════════════════════════════════════ */
async function sendToTelegram(orderId, orderDate, total, pmName) {
  const p  = state.currentProduct;
  const d  = state.selectedDenom;
  const pm = PAYMENT_METHODS_CONFIG.find(m => m.id === state.selectedPayment);
  const caption = [
    `🛍️ *PESANAN BARU — ${CONFIG.storeName}*`,
    '━━━━━━━━━━━━━━━━━━',
    `📋 *Order ID:* \`${orderId}\``,
    `📅 *Tanggal:* ${orderDate}`,
    '',
    `🎁 *Produk:* ${p.name}`,
    `📦 *Paket:* ${d.amount}`,
    `👤 *Penerima:* ${Object.values(state.userFields).join(' | ')}`,
    '',
    `💳 *Metode:* ${pm ? pm.name : pmName}`,
    `💰 *Total:* *${fmt(total)}*`,
    state.appliedPromo ? `🏷️ *Promo:* ${state.appliedPromo}` : '',
    '',
    '⏳ *Status:* Menunggu Konfirmasi Admin',
    '━━━━━━━━━━━━━━━━━━',
    `\\#media69 \\#pesananbaru`,
  ].filter(Boolean).join('\n');

  const token  = CONFIG.telegram.botToken;
  const chatId = CONFIG.telegram.chatId;
  if (token === 'GANTI_TOKEN_BOT_TELEGRAM_KAMU') {
    console.warn('[Media69] Telegram bot token belum dikonfigurasi.');
    return { success:false, reason:'no-config' };
  }
  try {
    const formData = new FormData();
    formData.append('chat_id',    chatId);
    formData.append('photo',      state.uploadedFile, state.uploadedFile.name);
    formData.append('caption',    caption);
    formData.append('parse_mode', 'MarkdownV2');
    const resp = await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, { method:'POST', body:formData });
    const data = await resp.json();
    return data.ok ? { success:true } : { success:false, reason:data.description };
  } catch (err) {
    console.error('[Media69] Telegram fetch error:', err);
    return { success:false, reason:err.message };
  }
}

/* ════════════════════════════════════════════════════════════
   🏁  PROCESS PAYMENT
════════════════════════════════════════════════════════════ */
async function processPayment() {
  if (!state.selectedPayment || !state.uploadedFile) {
    showToast('Pilih metode bayar & upload bukti dulu!', '⚠️'); return;
  }
  navigateTo('processing');
  const pc = document.getElementById('processContent');
  if (pc) pc.innerHTML = `
    <div class="process-anim loading" aria-hidden="true" style="margin-bottom:24px">📤</div>
    <div class="process-title">Mengirim Bukti Pembayaran…</div>
    <div class="process-sub">Mohon tunggu, bukti sedang diupload ke sistem kami</div>`;

  const p         = state.currentProduct;
  const d         = state.selectedDenom;
  const pm        = PAYMENT_METHODS_CONFIG.find(m => m.id === state.selectedPayment);
  const total     = getCurrentTotal();
  const orderId   = 'M69' + Date.now().toString().slice(-9);
  const orderDate = new Date().toLocaleString('id-ID', { day:'2-digit', month:'short', year:'numeric', hour:'2-digit', minute:'2-digit' });

  const tgResult = await sendToTelegram(orderId, orderDate, total, pm?.name || '');
  await new Promise(r => setTimeout(r, 800));

  const order = {
    id:      orderId,
    product: p.name,
    img:     p.img,
    denom:   d.amount,
    uid:     Object.values(state.userFields).join(' | '),
    price:   total,
    payment: pm?.name || '',
    status:  'pending',
    date:    orderDate,
  };
  state.orders.unshift(order);
  saveOrders();
  updateOrderBadge();

  const waMsg = buildWAMessage(orderId, orderDate, p, d, pm, total);
  const waUrl = `https://wa.me/${CONFIG.whatsapp.number}?text=${encodeURIComponent(waMsg)}`;

  const tgStatus = tgResult.success
    ? '✅ Bukti pembayaran berhasil dikirim ke admin.'
    : '⚠️ Bukti terkirim. Konfirmasi ke admin via WhatsApp ya!';

  if (pc) pc.innerHTML = `
    <div class="process-anim pending" style="margin-bottom:24px" aria-hidden="true">⏳</div>
    <div class="pending-badge"><span class="pending-dot" aria-hidden="true"></span>Menunggu Konfirmasi Admin</div>
    <div class="process-title" style="color:var(--gold)">Pesanan Diproses!</div>
    <div class="process-sub">${tgStatus}<br/>Produk akan dikirim ke <strong>${state.verifiedName}</strong> setelah pembayaran dikonfirmasi admin.</div>
    <div class="order-id-box">
      <div class="oid-label">📋 ID Pesanan (simpan ini!)</div>
      <div class="oid-val" onclick="copyText('${orderId}','Order ID disalin!')" style="cursor:pointer" title="Tap untuk salin">${orderId} <span style="font-size:11px;color:var(--text3)">📋</span></div>
    </div>
    <div class="success-detail">
      <div class="sd-row"><span class="sd-key">Produk</span><span class="sd-val">${p.name}</span></div>
      <div class="sd-row"><span class="sd-key">Paket</span><span class="sd-val">${d.amount}</span></div>
      <div class="sd-row"><span class="sd-key">No HP</span><span class="sd-val">${state.verifiedName}</span></div>
      <div class="sd-row"><span class="sd-key">Metode</span><span class="sd-val">${pm?.name || '—'}</span></div>
      <div class="sd-row"><span class="sd-key">Total</span><span class="sd-val" style="color:var(--cyan)">${fmt(total)}</span></div>
      <div class="sd-row"><span class="sd-key">Waktu</span><span class="sd-val">${orderDate}</span></div>
      <div class="sd-row"><span class="sd-key">Status</span><span class="sd-val" style="color:var(--gold)">⏳ Menunggu konfirmasi</span></div>
    </div>
    <div class="action-btns">
      <a class="btn-wa" href="${waUrl}" target="_blank" rel="noopener noreferrer">
        <svg viewBox="0 0 24 24" fill="currentColor" width="18" height="18" aria-hidden="true"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
        Konfirmasi via WhatsApp
      </a>
      <button class="btn-primary" onclick="showPage('home')" type="button">🏠 Kembali ke Beranda</button>
      <button class="btn-secondary" onclick="showOrdersPage()" type="button">📋 Lihat Status Pesanan</button>
    </div>`;
}

/* ════════════════════════════════════════════════════════════
   💬  WHATSAPP MESSAGE BUILDER
════════════════════════════════════════════════════════════ */
function buildWAMessage(orderId, orderDate, p, d, pm, total) {
  return [
    `🛍️ *KONFIRMASI PESANAN — Media69 Digital Store*`,
    ``,
    `📋 *Order ID:* ${orderId}`,
    `📅 *Tanggal:* ${orderDate}`,
    ``,
    `🎁 *Produk:* ${p.name}`,
    `📦 *Paket:* ${d.amount}`,
    `👤 *Penerima:* ${Object.values(state.userFields).join(' | ')}`,
    ``,
    `💳 *Metode Bayar:* ${pm?.name || '—'}`,
    `💰 *Total:* ${fmt(total)}`,
    state.appliedPromo ? `🏷️ *Promo:* ${state.appliedPromo}` : ``,
    ``,
    `✅ Bukti transfer sudah saya kirim via sistem.`,
    `Mohon konfirmasi pesanan saya. Terima kasih! 🙏`,
  ].filter(l => l !== undefined).join('\n');
}

/* ════════════════════════════════════════════════════════════
   💬  WHATSAPP DIRECT OPEN
════════════════════════════════════════════════════════════ */
function openWhatsApp(customMsg) {
  const msg = customMsg || `Halo Admin Media69! Saya ingin bertanya tentang produk digital. Bisa bantu saya? 😊`;
  const url = `https://wa.me/${CONFIG.whatsapp.number}?text=${encodeURIComponent(msg)}`;
  window.open(url, '_blank', 'noopener,noreferrer');
}

/* ════════════════════════════════════════════════════════════
   📋  ORDERS
════════════════════════════════════════════════════════════ */
function renderOrders(filter) {
  const list = document.getElementById('orderList'); if (!list) return;
  let orders = state.orders;
  if (filter !== 'all') orders = orders.filter(o => o.status === filter);
  if (!orders.length) {
    list.innerHTML = `<div class="empty-state">
      <div class="empty-icon" aria-hidden="true">📭</div>
      <div class="empty-title">Belum ada pesanan</div>
      <p class="empty-sub">${filter === 'all' ? 'Mulai belanja dan pesananmu tersimpan otomatis di sini.' : 'Tidak ada pesanan dengan status ini.'}</p>
    </div>`;
    return;
  }
  const statusLabel = { success:'Sukses', pending:'Proses', failed:'Gagal' };
  const statusClass = { success:'status-success', pending:'status-pending', failed:'status-failed' };
  list.innerHTML = orders.map(o => {
    const waMsg = `Halo Admin! Saya ingin cek status pesanan saya.\n\n📋 *Order ID:* ${o.id}\n🎁 *Produk:* ${o.product}\n💰 *Total:* ${fmt(o.price)}\n\nMohon dicek ya! Terima kasih 🙏`;
    return `<article class="order-item" role="listitem" tabindex="0" aria-label="Pesanan ${o.id}">
      <div class="oi-head">
        <span class="oi-id">${o.id}</span>
        <span class="oi-status ${statusClass[o.status]}">${statusLabel[o.status]}</span>
      </div>
      <div class="oi-body">
        <img class="oi-img" src="${o.img}" alt="${o.product}" loading="lazy" width="48" height="48"/>
        <div class="oi-info">
          <div class="oi-game">${o.product}</div>
          <div class="oi-denom">${o.denom}</div>
          <div class="oi-date">${o.date} · ${o.payment}</div>
        </div>
        <div class="oi-price">${fmt(o.price)}</div>
      </div>
      <div class="oi-actions">
        <a class="oi-wa-btn" href="https://wa.me/${CONFIG.whatsapp.number}?text=${encodeURIComponent(waMsg)}" target="_blank" rel="noopener noreferrer" aria-label="Cek status via WhatsApp">
          <svg viewBox="0 0 24 24" fill="currentColor" width="13" height="13" aria-hidden="true"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
          Cek Status
        </a>
        <button class="oi-copy-btn" onclick="copyText('${o.id}','Order ID disalin!')" type="button" aria-label="Salin Order ID">📋 Salin ID</button>
      </div>
    </article>`;
  }).join('');
}

function filterOrders(filter, el) {
  document.querySelectorAll('.of-btn').forEach(b => b.classList.remove('active'));
  if (el) el.classList.add('active');
  renderOrders(filter);
}

function updateOrderBadge() {
  const count = state.orders.length;
  const el    = document.getElementById('orderBadge');
  if (el) { el.style.display = count > 0 ? 'flex' : 'none'; el.textContent = count > 9 ? '9+' : count; }
}

/* ════════════════════════════════════════════════════════════
   📲  PWA — Service Worker + Install Banner
════════════════════════════════════════════════════════════ */
let deferredPrompt = null;

function initPWA() {
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(reg => console.log('[Media69] SW registered:', reg.scope))
        .catch(err => console.warn('[Media69] SW registration failed:', err));
    });
  }

  window.addEventListener('beforeinstallprompt', e => {
    e.preventDefault();
    deferredPrompt = e;
    const dismissed = localStorage.getItem('media69_pwa_dismissed');
    if (!dismissed) { setTimeout(() => showPWABanner(), 3000); }
  });

  window.addEventListener('appinstalled', () => {
    hidePWABanner();
    deferredPrompt = null;
    showToast('Aplikasi berhasil diinstall! 🎉', '📲');
  });

  const btnInstall = document.getElementById('pwaBtnInstall');
  if (btnInstall) {
    btnInstall.addEventListener('click', async () => {
      if (!deferredPrompt) return;
      deferredPrompt.prompt();
      const { outcome } = await deferredPrompt.userChoice;
      if (outcome === 'accepted') showToast('Menginstall aplikasi…', '📲');
      deferredPrompt = null;
      hidePWABanner();
    });
  }

  const btnDismiss = document.getElementById('pwaBtnDismiss');
  if (btnDismiss) {
    btnDismiss.addEventListener('click', () => {
      hidePWABanner();
      localStorage.setItem('media69_pwa_dismissed', '1');
    });
  }
}

function showPWABanner() {
  const banner = document.getElementById('pwaBanner');
  if (banner) { banner.style.display = 'flex'; requestAnimationFrame(() => banner.classList.add('show')); }
}

function hidePWABanner() {
  const banner = document.getElementById('pwaBanner');
  if (banner) { banner.classList.remove('show'); setTimeout(() => banner.style.display = 'none', 350); }
}

/* ════════════════════════════════════════════════════════════
   💚  WHATSAPP FLOATING BUTTON
════════════════════════════════════════════════════════════ */
function initWAFloat() {
  if (!CONFIG.whatsapp.showFloat) return;
  const btn = document.getElementById('waFloat'); if (!btn) return;

  setTimeout(() => {
    btn.style.display = 'flex';
    requestAnimationFrame(() => btn.classList.add('show'));
  }, CONFIG.whatsapp.floatDelay);

  let lastScrollY = window.scrollY;
  window.addEventListener('scroll', () => {
    const currentY = window.scrollY;
    if (currentY > lastScrollY && currentY > 300) {
      btn.classList.add('hide');
    } else {
      btn.classList.remove('hide');
    }
    lastScrollY = currentY;
  }, { passive: true });
}

/* ════════════════════════════════════════════════════════════
   🔗  SHARE
════════════════════════════════════════════════════════════ */
function shareProduct() {
  const p = state.currentProduct; if (!p) return;
  if (navigator.share) {
    navigator.share({ title:p.name, text:`Beli ${p.name} murah di Media69 Digital Store!`, url:window.location.href }).catch(() => {});
  } else {
    if (navigator.clipboard) navigator.clipboard.writeText(window.location.href);
    showToast('Link disalin ke clipboard!', '🔗');
  }
}

/* ════════════════════════════════════════════════════════════
   📋  COPY
════════════════════════════════════════════════════════════ */
function copyText(text, msg = 'Tersalin!') {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(String(text)).then(() => showToast(msg, '📋'));
  } else {
    const el = document.createElement('textarea');
    el.value = String(text); document.body.appendChild(el); el.select();
    document.execCommand('copy'); document.body.removeChild(el);
    showToast(msg, '📋');
  }
}

/* ════════════════════════════════════════════════════════════
   🍞  TOAST
════════════════════════════════════════════════════════════ */
let toastTimer;
function showToast(msg, icon = '✅') {
  clearTimeout(toastTimer);
  const t = document.getElementById('toast'); if (!t) return;
  t.innerHTML = `${icon} ${msg}`;
  t.classList.add('show');
  toastTimer = setTimeout(() => t.classList.remove('show'), 2800);
}

/* ════════════════════════════════════════════════════════════
   💱  FORMAT CURRENCY
════════════════════════════════════════════════════════════ */
function fmt(n) {
  return 'Rp ' + Number(n).toLocaleString('id-ID');
}


document.addEventListener('DOMContentLoaded', init);

</script>
</body>
</html>
